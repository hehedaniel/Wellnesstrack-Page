import{b as te,c as ie,d as b}from"./chunk-RJUX6C3Z.js";import"./chunk-C5IJIVBD.js";import"./chunk-K3LIOYUM.js";import"./chunk-OU5BUBHV.js";import"./chunk-RETDGAQG.js";import"./chunk-CRGTD5HW.js";import{a as q,b as J,c as K,d as W,e as X,f as Z}from"./chunk-2UPKGN5O.js";import"./chunk-C5YLPQLY.js";import"./chunk-J7F7KZJ2.js";import{f as $}from"./chunk-YBJLJ2WG.js";import{l as T,m as ee}from"./chunk-6OMSEINS.js";import"./chunk-N5MVP6Y3.js";import{B as Y,b as A,g as N,h as V,i as U,k as v,o as z,p as G,s as B,t as Q,v as L}from"./chunk-MZKIP52W.js";import{da as R,i as H}from"./chunk-OZO5R2AD.js";import"./chunk-WB557K7N.js";import{$b as _,Bb as D,Lb as i,Mb as o,Nb as S,Rb as x,Ub as C,ac as P,bc as E,cc as O,db as u,dc as s,gc as j,ja as g,kc as k,lc as y,oa as F,xa as M,ya as w}from"./chunk-CPJRB4V3.js";import{g as m,h as p,i as d}from"./chunk-73B72BQ3.js";var Ce=(()=>{var a,l,h,f;let r=class r{constructor(){p(this,a,void 0);p(this,l,void 0);p(this,h,void 0);p(this,f,void 0);this.ruta="http://localhost:8000",d(this,a,g($)),d(this,l,g(T)),d(this,h,g(H)),d(this,f,g(ee)),this.fechaInicio=new Date,this.fechaFin=new Date,this.fechaInicioMostrar="",this.fechaFinMostrar="",this.rangeoFechas=new U({start:new v(null),end:new v(null)})}ngOnInit(){this.checkLogedIn(),this.cambiarTituloPagina()}cambiarTituloPagina(){this.rangeoFechas.valueChanges.subscribe(e=>{e.start!=null&&e.end!=null&&(this.fechaInicio=new Date(e.start.toISOString().split("T")[0]),this.fechaInicio.setDate(this.fechaInicio.getDate()+1),this.fechaFin=new Date(e.end.toISOString().split("T")[0]),this.fechaFin.setDate(this.fechaFin.getDate()+1),localStorage.setItem("fechaInicioHome",this.fechaInicio.toISOString()),localStorage.setItem("fechaFinHome",this.fechaFin.toISOString()),console.log("Fecha inicio: "+this.fechaInicio.toISOString()),console.log("Fecha fin: "+this.fechaFin.toISOString()),window.location.reload())}),this.fechaFin=localStorage.getItem("fechaFinHome")?new Date(localStorage.getItem("fechaFinHome")||""):new Date,this.fechaInicio=localStorage.getItem("fechaInicioHome")?new Date(localStorage.getItem("fechaInicioHome")||""):new Date(new Date().setDate(new Date().getDate()-30)),this.fechaInicioMostrar=this.fechaInicio.toISOString().split("T")[0];let c=new Date().toISOString().slice(0,10);this.fechaFin.toISOString().split("T")[0]===c?this.fechaFinMostrar="hoy":this.fechaFinMostrar=this.fechaFin.toISOString().split("T")[0],console.log(localStorage.getItem("fechaInicioHome"))}checkLogedIn(){m(this,l).fbUserEmail().then(c=>{c!==null?console.log("Usuario logeado"):(console.log("Usuario no logeado"),m(this,h).navigate(["/login"]))})}openDialog(){m(this,a).open(ie,{width:"70%",height:"auto",maxHeight:"90vh"})}openDialogProponer(){m(this,a).open(te,{width:"90%",height:"auto",maxHeight:"90vh"})}};a=new WeakMap,l=new WeakMap,h=new WeakMap,f=new WeakMap,r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=F({type:r,selectors:[["app-ejercicios-home"]],viewQuery:function(e,n){if(e&1&&_(b,5),e&2){let t;P(t=E())&&(n.tablaEjercicios=t.first)}},standalone:!0,features:[k([R()]),y],decls:23,vars:5,consts:[["picker",""],[1,"ejerciciosHome"],[1,"content"],[1,"date-container"],["matIconSuffix","",3,"for"],["touchUi",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","hidden",""],["matEndDate","","formControlName","end","placeholder","End date","hidden",""],[1,"tablaEjercicios"],[1,"divBtn"],[1,"btnEjerciciosHome","btnProponer","fakeButton",3,"click"],[1,"btnEjerciciosHome","btnAnadir","fakeButton",3,"click"]],template:function(e,n){if(e&1){let t=x();i(0,"div",1)(1,"div",2)(2,"h1"),s(3,"P\xE1gina inicio ejercicios realizados"),o(),i(4,"h3"),s(5),o(),i(6,"div",3)(7,"div")(8,"mat-label"),s(9,"Selecciona un rango de fechas"),o(),S(10,"mat-datepicker-toggle",4)(11,"mat-date-range-picker",5,0),i(13,"mat-date-range-input",6),S(14,"input",7)(15,"input",8),o()()(),i(16,"div",9),S(17,"app-tabla-ejercicios"),o(),i(18,"div",10)(19,"button",11),C("click",function(){return M(t),w(n.openDialogProponer())}),s(20,"Proponer ejercicio"),o(),i(21,"button",12),C("click",function(){return M(t),w(n.openDialog())}),s(22,"A\xF1adir"),o()()()()}if(e&2){let t=O(12);u(5),j("Resumen desde ",n.fechaInicioMostrar," hasta ",n.fechaFinMostrar,""),u(5),D("for",t),u(3),D("formGroup",n.rangeoFechas)("rangePicker",t)}},dependencies:[b,Y,Q,L,Z,q,W,J,K,X,B,A,N,V,z,G],styles:[".ejerciciosHome[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-top:5vh;width:100%}.content[_ngcontent-%COMP%]{background-color:var(--SECONDARY_50);display:flex;align-items:center;flex-direction:column;width:85%;height:auto;box-shadow:-4px 4px 8px #0000001a,0 4px 8px #0000001a;border-radius:7px}.date-container[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:flex-end}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{width:80%;text-align:left}button[_ngcontent-%COMP%]{border:0;border-radius:8px}.divBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:80%;text-align:right;margin:3%}.btnEjerciciosHome[_ngcontent-%COMP%]{width:30%;color:#fff;height:35px}.btnProponer[_ngcontent-%COMP%]{background-color:var(--TERTIARY_500)}.btnAnadir[_ngcontent-%COMP%]{background-color:var(--SUCCESS_600)}.tablaEjercicios[_ngcontent-%COMP%]{width:100%}@media (max-width: 768px){.ejerciciosHome[_ngcontent-%COMP%]{margin-top:4vh}h1[_ngcontent-%COMP%]{font-size:24px}h3[_ngcontent-%COMP%]{font-size:16px}button[_ngcontent-%COMP%]{font-size:14px}}"]});let I=r;return I})();export{Ce as EjerciciosHomeComponent};
