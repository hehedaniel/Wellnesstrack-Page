import{a as Ct}from"./chunk-MWDMYLDE.js";import{a as Me}from"./chunk-LVPNQU37.js";import"./chunk-OU5BUBHV.js";import{a as nt,b as it,c as ot,d as at,e as rt,f as lt}from"./chunk-2UPKGN5O.js";import{a as pt}from"./chunk-C5YLPQLY.js";import{e as _t,f as ht}from"./chunk-J7F7KZJ2.js";import{e as st,f as B,g as Y,h as re,i as K,n as dt,o as mt,p as ut,q as Q,r as gt}from"./chunk-YBJLJ2WG.js";import{l as ve,m as ft}from"./chunk-6OMSEINS.js";import"./chunk-N5MVP6Y3.js";import{B as j,C as U,F as ct,L as me,M as Ne,b as H,g as z,h as Se,i as Ke,j as Qe,k as de,l as q,m as Je,n as oe,o as Ze,p as $e,q as ae,r as X,s as V,t as et,v as tt,z as G}from"./chunk-MZKIP52W.js";import{Ia as L,da as ye,i as ie}from"./chunk-OZO5R2AD.js";import{A as Ee,B as Ae,D as De,k as Xe,l as Ge,m as se,o as ce,p as Ue,x as Ye,y as Fe}from"./chunk-WB557K7N.js";import{Ab as ue,Bb as m,Db as Ie,Fb as ge,Ga as J,Hb as _e,Lb as a,Mb as o,Nb as E,Ob as R,Pb as W,Qb as Z,Rb as A,Ub as x,Wb as _,Xb as je,Yb as Le,_b as he,ac as fe,bc as Ce,cc as te,db as s,dc as d,ea as We,eb as Ve,ec as Te,fc as He,hc as M,ic as y,ja as T,jc as S,kc as xe,lc as N,nc as ne,oa as F,oc as Oe,pa as ze,qc as ke,rc as qe,vc as be,wb as O,xa as P,ya as w}from"./chunk-CPJRB4V3.js";import{g as h,h as I,i as k}from"./chunk-73B72BQ3.js";var le=(()=>{var r,e,t,i;let l=class l{constructor(p){I(this,r,void 0);I(this,e,void 0);I(this,t,void 0);I(this,i,void 0);this.data=p,k(this,r,T(ie)),k(this,e,T(Me)),k(this,t,T(U)),k(this,i,T(B)),this.calorias=0,this.proteinas=0,this.azucares=0,this.grasas=0,this.carbohidratos=0,this.comidaNombre="",this.comidaCantidad="",this.comidaDescripcion="",this.comidaImagen="",this.alimentoMarca="",this.recetaInstrucciones="",this.usuarioID=localStorage.getItem("idUsuarioLogeado")||""}ngOnInit(){console.log(this.data),console.log(this.data.dialogData.nombre),this.comidaNombre=this.data.dialogData.nombre,this.comidaCantidad=this.data.dialogData.cantidad,this.comidaDescripcion=this.data.dialogData.descripcion,this.comidaImagen=this.data.dialogData.imagen,this.data.tipo=="alimento"?this.alimentoMarca=this.data.dialogData.marca:this.recetaInstrucciones=this.data.dialogData.instrucciones}proponer(){if(this.calorias==0||this.proteinas==0||this.azucares==0||this.grasas==0||this.carbohidratos==0){h(this,t).open("Por favor rellene todos los campos de forma correcta","",{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]});return}if(this.data.tipo=="alimento"){let p={nombre:this.comidaNombre,descripcion:this.comidaDescripcion,marca:this.alimentoMarca,imagen:this.comidaImagen,cantidad:this.comidaCantidad,calorias:this.calorias,proteinas:this.proteinas,azucares:this.azucares,grasas:this.grasas,carbohidratos:this.carbohidratos};console.log(p,this.usuarioID),h(this,e).postProponerAlimento(p,this.usuarioID).subscribe(f=>{f.respuesta==="El alimento ya existe"?h(this,t).open("Este alimento ya existe","",{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}):f.code==200&&h(this,r).navigate(["comidas"])})}else{let p={nombre:this.comidaNombre,descripcion:this.comidaDescripcion,instrucciones:this.recetaInstrucciones,imagen:this.comidaImagen,cantidad:this.comidaCantidad,calorias:this.calorias,proteinas:this.proteinas,azucares:this.azucares,grasas:this.grasas,carbohidratos:this.carbohidratos};console.log(p,this.usuarioID),h(this,e).postProponerReceta(p,this.usuarioID).subscribe(f=>{f.respuesta==="Ya existe una receta con el mismo nombre"||f.respuesta==="No se han recibido datos"?(console.log("mal"),h(this,t).open("Esta receta ya existe","",{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]})):f.code==200&&(h(this,r).navigate(["comidas"]),h(this,i).closeAll(),h(this,t).open("Receta propuesta correctamente","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}))})}}};r=new WeakMap,e=new WeakMap,t=new WeakMap,i=new WeakMap,l.\u0275fac=function(f){return new(f||l)(Ve(st))},l.\u0275cmp=F({type:l,selectors:[["app-form-proponer-alimento-nutrientes"]],standalone:!0,features:[N],decls:33,vars:11,consts:[[1,"bodyContenedor"],[1,"contenedor"],[1,"titulo"],[1,"formulario",3,"ngSubmit"],[1,"contForm"],[1,"izq-form"],[1,"input-div"],["for","calorias"],["p-inputNumber","","id","calorias","name","calorias","mode","decimal",3,"ngModelChange","ngModel","min"],["for","proteinas"],["p-inputNumber","","id","proteinas","name","proteinas","mode","decimal",3,"ngModelChange","ngModel","min"],["for","azucares"],["p-inputNumber","","id","azucares","name","azucares","mode","decimal",3,"ngModelChange","ngModel","min"],[1,"der-form"],["for","grasas"],["p-inputNumber","","id","grasas","name","grasas","mode","decimal",3,"ngModelChange","ngModel","min"],["for","carbohidratos"],["p-inputNumber","","id","carbohidratos","name","carbohidratos","mode","decimal",3,"ngModelChange","ngModel","min"],[1,"fin-form"],["cdkFocusInitial","","color","primary","type","submit",1,"btnForm"]],template:function(f,u){f&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),d(4),o()(),a(5,"div")(6,"form",3),x("ngSubmit",function(){return u.proponer()}),a(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),d(11,"Cantidad de calor\xEDas (kcal)"),o(),a(12,"p-inputNumber",8),S("ngModelChange",function(c){return y(u.calorias,c)||(u.calorias=c),c}),o()(),a(13,"div",6)(14,"label",9),d(15,"Cantidad de prote\xEDnas (gr)"),o(),a(16,"p-inputNumber",10),S("ngModelChange",function(c){return y(u.proteinas,c)||(u.proteinas=c),c}),o()(),a(17,"div",6)(18,"label",11),d(19,"Cantidad de az\xFAcares (gr)"),o(),a(20,"p-inputNumber",12),S("ngModelChange",function(c){return y(u.azucares,c)||(u.azucares=c),c}),o()()(),a(21,"div",13)(22,"div",6)(23,"label",14),d(24,"Cantidad de grasas (gr)"),o(),a(25,"p-inputNumber",15),S("ngModelChange",function(c){return y(u.grasas,c)||(u.grasas=c),c}),o()(),a(26,"div",6)(27,"label",16),d(28,"Cantidad de carbohidratos (gr)"),o(),a(29,"p-inputNumber",17),S("ngModelChange",function(c){return y(u.carbohidratos,c)||(u.carbohidratos=c),c}),o()()()(),a(30,"div",18)(31,"button",19),d(32,"Proponer"),o()()()()()()),f&2&&(s(4),He("Proponer Alimento - ",u.comidaNombre,""),s(8),M("ngModel",u.calorias),m("min",1),s(4),M("ngModel",u.proteinas),m("min",1),s(4),M("ngModel",u.azucares),m("min",1),s(5),M("ngModel",u.grasas),m("min",1),s(4),M("ngModel",u.carbohidratos),m("min",1))},dependencies:[V,Je,z,Se,G,j,L,Y,X,q,Qe,K,Q,ut],styles:[".bodyContenedor[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;height:100%}.contenedor[_ngcontent-%COMP%]{width:100%;padding:20px;border-radius:10px;box-shadow:0 0 10px #0000001a}.contForm[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.mdc-text-field--filled[_ngcontent-%COMP%]:not(.mdc-text-field--disabled){border:2px solid black!important}.input-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.input[_ngcontent-%COMP%]{border:2px solid black;background-color:var(--EXTRA_WHITE_LIGHT);color:#000;border-radius:10px;padding:1%}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{padding-left:13%;display:flex;flex-direction:column;width:100%;align-items:center;justify-content:center}.fin-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;width:100%}.btnForm[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600);color:var(--EXTRA_WHITE_LIGHT);padding:10px 20px;border:none;border-radius:5px;margin-left:60px}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:24px}.contForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly;justify-content:center;padding:0}button[_ngcontent-%COMP%]{margin:0!important}}"]});let n=l;return n})();var bt=(()=>{var r,e;let t=class t{constructor(){I(this,r,void 0);I(this,e,void 0);k(this,r,T(B)),k(this,e,T(U)),this.nombre="",this.cantidad=1,this.instrucciones="",this.descripcion="",this.imagen="",this.base64Image="./assets/icons/imgComidaBlack36.svg",this.imgPreview=!1}siguienteForm(){if(this.nombre==""||this.cantidad==0||isNaN(this.cantidad)||this.cantidad<1||this.instrucciones==""||this.descripcion==""||this.base64Image=="")h(this,e).open("Por favor rellene todos los campos de forma correcta","",{duration:2e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]});else{let l={tipo:"receta",nombre:this.nombre,cantidad:this.cantidad,instrucciones:this.instrucciones,descripcion:this.descripcion,imagen:this.base64Image};this.imgPreview=!0,console.log(l),h(this,r).open(le,{data:{dialogData:l},width:"70%",height:"auto",maxHeight:"90vh"})}}subirImg(l){let g=l.target.files[0];if(g){let p=new FileReader;p.readAsDataURL(g),p.onload=()=>{let f=p.result;this.base64Image=f}}}cancelar(){h(this,r).closeAll()}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(g){return new(g||t)},t.\u0275cmp=F({type:t,selectors:[["app-form-proponer-receta"]],standalone:!0,features:[N],decls:40,vars:7,consts:[[1,"proponerAlimentoBody"],[1,"contenedor"],[1,"header"],[1,"divTitulo"],[1,"divInfo"],[1,"contForm"],[1,"izq-form"],[1,"input-div"],["for","nombre",1,"labelInput"],["pInputText","","id","nombre","aria-describedby","nombre-help",3,"ngModelChange","ngModel"],["for","cantidad"],["type","number","pInputNumber","","id","cantidad","mode","decimal",3,"ngModelChange","ngModel","min"],["for","descripcion"],["id","descripcion","rows","7","cols","25","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"der-form"],[1,"image-placeholder"],["type","file",3,"change"],["alt","Imagen de muestra","width","175","height","175",3,"src","preview"],["for","instrucciones"],[1,"divTextarea"],["id","instrucciones","rows","7","cols","28","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"fin-form"],[1,"btnCancelar","fakeButton",3,"click"],[1,"btnSiguiente","fakeButton",3,"click"]],template:function(g,p){g&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d(5,"Proponer Receta"),o()(),a(6,"div",4)(7,"h4"),d(8,"Introduce la informaci\xF3n principal del receta"),o()()(),a(9,"div")(10,"div",5)(11,"div",6)(12,"div",7)(13,"label",8),d(14,"Nombre"),o(),a(15,"input",9),S("ngModelChange",function(u){return y(p.nombre,u)||(p.nombre=u),u}),o()(),a(16,"div",7)(17,"label",10),d(18,"Cantidad de la receta (gr o ml)"),o(),a(19,"input",11),S("ngModelChange",function(u){return y(p.cantidad,u)||(p.cantidad=u),u}),o()(),a(20,"div",7)(21,"label",12),d(22,"Descripci\xF3n"),o(),a(23,"textarea",13),S("ngModelChange",function(u){return y(p.descripcion,u)||(p.descripcion=u),u}),d(24,"                  "),o()()(),a(25,"div",14)(26,"div",15)(27,"input",16),x("change",function(u){return p.subirImg(u)}),o(),E(28,"p-image",17),o(),a(29,"div",7)(30,"label",18),d(31,"Instrucciones"),o(),a(32,"div",19)(33,"textarea",20),S("ngModelChange",function(u){return y(p.instrucciones,u)||(p.instrucciones=u),u}),d(34,"                  "),o()()()()(),a(35,"div",21)(36,"button",22),x("click",function(){return p.cancelar()}),d(37," Cancelar "),o(),a(38,"button",23),x("click",function(){return p.siguienteForm()}),d(39," Siguiente "),o()()()()()),g&2&&(s(15),M("ngModel",p.nombre),s(4),M("ngModel",p.cantidad),m("min",1),s(4),M("ngModel",p.descripcion),s(5),m("src",p.base64Image)("preview",p.imgPreview),s(5),M("ngModel",p.instrucciones))},dependencies:[V,H,oe,z,ae,G,j,L,Y,X,q,K,re,Q],styles:[".proponerAlimentoBody[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:90vh;box-shadow:0 4px 8px #0000001a;border:2px solid black;overflow:scroll}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;border-radius:10px;width:100%;height:100%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:10px;width:100%}.divTitulo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:left}.divInfo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.contForm[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:48%}.der-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.contImg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--EXTRA_BLACK)!important;width:80%!important;padding:.7rem!important;margin:1%!important;border-radius:4px!important}.input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid var(--EXTRA_BLACK)!important;width:85%!important;padding:.7rem!important;margin:1%!important;border-radius:4px!important}.input-div[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;margin:1%}.divTextarea[_ngcontent-%COMP%]{width:100%;display:flex!important;flex-direction:column!important;align-items:center!important}.labelInfo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2%}.image-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;margin:1%}p-image[_ngcontent-%COMP%]{margin-top:1%;border:1px solid var(--EXTRA_BLACK)}.fin-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-evenly;align-items:center;width:100%}.btnCancelar[_ngcontent-%COMP%]{background-color:var(--PRIMARY_300);color:var(--EXTRA_BLACK);padding:10px 20px;border:none;border-radius:5px;margin-right:60px}.btnSiguiente[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600);color:var(--EXTRA_WHITE_LIGHT);padding:10px 20px;border:none;border-radius:5px;margin-left:60px}@media (max-width: 768px){h1[_ngcontent-%COMP%]{font-size:24px}.contForm[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly;justify-content:center}.der-form[_ngcontent-%COMP%]{flex-direction:column-reverse}.image-placeholder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:12px;width:90%}.input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.fin-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:100%}button[_ngcontent-%COMP%]{padding:7px 0!important;font-size:14px;width:40%;margin:4% 0!important}}"]});let n=t;return n})();var Tt=(n,r,e,t)=>({index:n,active:r,highlighted:e,class:"p-stepper-action",headerClass:"p-stepper-action",numberClass:"p-stepper-number",titleClass:"p-stepper-title",onClick:t});function Ot(n,r){n&1&&Z(0)}function kt(n,r){if(n&1&&(R(0),O(1,Ot,1,0,"ng-container",2),W()),n&2){let e=_();s(),m("ngTemplateOutlet",e.template)("ngTemplateOutletContext",ke(2,Tt,e.index,e.active,e.highlighted,e.onClick))}}function Ft(n,r){if(n&1){let e=A();a(0,"p-button",3),x("click",function(i){P(e);let l=_();return w(l.onClick.emit(i,l.index))}),a(1,"span",4),d(2),o(),a(3,"span",5),d(4),o()()}if(n&2){let e=_();m("id",e.id)("tabindex",e.disabled?-1:void 0)("aria-controls",e.ariaControls),s(2),Te(e.index+1),s(2),Te(e.getStepProp)}}var Et=(n,r,e,t)=>({index:n,active:r,highlighted:e,class:t});function At(n,r){n&1&&Z(0)}function Dt(n,r){if(n&1&&(R(0),O(1,At,1,0,"ng-container",2),W()),n&2){let e=_();s(),m("ngTemplateOutlet",e.template)("ngTemplateOutletContext",ke(2,Et,e.index,e.active,e.highlighted,e.separatorClass))}}function Nt(n,r){if(n&1&&E(0,"span",3),n&2){let e=_();ge(e.separatorClass)}}var Bt=(n,r,e,t,i,l)=>({index:n,active:r,highlighted:e,onClick:t,prevCallback:i,nextCallback:l});function Rt(n,r){n&1&&Z(0)}function Wt(n,r){if(n&1&&(R(0),O(1,Rt,1,0,"ng-container",2),W()),n&2){let e=_();s(),m("ngTemplateOutlet",e.template)("ngTemplateOutletContext",qe(2,Bt,e.index,e.active,e.highlighted,e.onClick,e.prevCallback,e.nextCallback))}}function zt(n,r){n&1&&Z(0)}function Vt(n,r){if(n&1&&(R(0),O(1,zt,1,0,"ng-container",3),W()),n&2){let e=_(3);s(),m("ngTemplateOutlet",e.stepperPanel)}}function jt(n,r){if(n&1&&O(0,Vt,2,1,"ng-container",1),n&2){let e=_(2);m("ngIf",e.stepperPanel)}}function Lt(n,r){n&1&&O(0,jt,1,1,"ng-template")}var Ht=["*"],Mt=(n,r)=>({"p-highlight":n,"p-disabled":r}),qt=n=>({"p-stepper-panel-active":n}),vt=n=>({transitionParams:n}),Xt=n=>({value:"visible",params:n}),Gt=n=>({value:"hidden",params:n});function Ut(n,r){n&1&&Z(0)}function Yt(n,r){if(n&1&&(R(0),O(1,Ut,1,0,"ng-container",4),W()),n&2){let e=_();s(),m("ngTemplateOutlet",e.startTemplate)}}function Kt(n,r){if(n&1&&(R(0),E(1,"p-stepperSeparator",10),W()),n&2){let e=_(),t=e.$implicit,i=e.index,l=_(2);s(),m("template",t.separatorTemplate)("separatorClass","p-stepper-separator")("stepperPanel",t)("index",i)("active",l.isStepActive(i))("highlighted",i<l.activeStep)}}function Qt(n,r){if(n&1){let e=A();a(0,"li",8)(1,"p-stepperHeader",9),x("onClick",function(i){let l=P(e).index,g=_(2);return w(g.onItemClick(i,l))}),o(),O(2,Kt,2,6,"ng-container",2),o()}if(n&2){let e=r.$implicit,t=r.index,i=_(2);m("key",i.getStepKey(e,t))("ngClass",Oe(20,Mt,i.isStepActive(t),i.isItemDisabled(t)))("data-pc-name",i.stepperPanel)("data-p-highlight",i.isStepActive(t))("data-p-disabled",i.isItemDisabled(t))("data-pc-index",t)("data-p-active",i.isStepActive(t)),ue("aria-current",i.isStepActive(t)?"step":void 0),s(),ge("p-stepper-action"),m("id",i.getStepHeaderActionId(t))("template",e.headerTemplate)("stepperPanel",e)("getStepProp",i.getStepProp(e,"header"))("index",t)("disabled",i.isItemDisabled(t))("active",i.isStepActive(t))("highlighted",t<i.activeStep)("aria-controls",i.getStepContentId(t)),s(),m("ngIf",t!==i.stepperPanels.length-1)}}function Jt(n,r){if(n&1){let e=A();R(0),a(1,"p-stepperContent",11),x("onClick",function(i){P(e);let l=_().index,g=_(2);return w(g.onItemClick(i,l))})("nextCallback",function(i){P(e);let l=_().index,g=_(2);return w(g.nextCallback(i,l))})("prevCallback",function(i){P(e);let l=_().index,g=_(2);return w(g.prevCallback(i,l))}),o(),W()}if(n&2){let e=_(),t=e.$implicit,i=e.index,l=_(2);s(),m("id",l.getStepContentId(i))("template",t.contentTemplate)("orientation",l.orientation)("stepperPanel",t)("index",i)("active",l.isStepActive(i))("highlighted",i<l.activeStep)("ariaLabelledby",l.getStepHeaderActionId(i))}}function Zt(n,r){if(n&1&&O(0,Jt,2,8,"ng-container",2),n&2){let e=r.index,t=_(2);m("ngIf",t.isStepActive(e))}}function $t(n,r){if(n&1&&(R(0),a(1,"ul",5),O(2,Qt,3,23,"ng-template",6),o(),a(3,"div",7),O(4,Zt,1,1,"ng-template",6),o(),W()),n&2){let e=_();s(2),m("ngForOf",e.panels)("ngForTrackBy",e.trackByFn),s(2),m("ngForOf",e.panels)("ngForTrackBy",e.trackByFn)}}function en(n,r){if(n&1&&(R(0),E(1,"p-stepperSeparator",10),W()),n&2){let e=_(),t=e.$implicit,i=e.index,l=_(2);s(),m("template",t.separatorTemplate)("separatorClass","p-stepper-separator")("stepperPanel",t)("index",i)("active",l.isStepActive(i))("highlighted",i<l.activeStep)}}function tn(n,r){if(n&1){let e=A();a(0,"div",12)(1,"div",13)(2,"p-stepperHeader",9),x("onClick",function(i){let l=P(e).index,g=_(2);return w(g.onItemClick(i,l))}),o()(),a(3,"div",14),O(4,en,2,6,"ng-container",2),a(5,"p-stepperContent",11),x("onClick",function(i){let l=P(e).index,g=_(2);return w(g.onItemClick(i,l))})("nextCallback",function(i){let l=P(e).index,g=_(2);return w(g.nextCallback(i,l))})("prevCallback",function(i){let l=P(e).index,g=_(2);return w(g.prevCallback(i,l))}),o()()()}if(n&2){let e=r.$implicit,t=r.index,i=_(2);m("key",i.getStepKey(e,t))("ngClass",ne(30,qt,i.orientation==="vertical"&&i.isStepActive(t)))("data-pc-name","stepperpanel")("data-p-highlight",i.isStepActive(t))("data-p-disabled",i.isItemDisabled(t))("data-pc-index",t)("data-p-active",i.isStepActive(t)),ue("aria-current",i.isStepActive(t)?"step":void 0),s(),m("ngClass",Oe(32,Mt,i.isStepActive(t),i.isItemDisabled(t))),s(),ge("p-stepper-action"),m("id",i.getStepHeaderActionId(t))("template",e.headerTemplate)("stepperPanel",e)("getStepProp",i.getStepProp(e,"header"))("index",t)("disabled",i.isItemDisabled(t))("active",i.isStepActive(t))("highlighted",t<i.activeStep)("aria-controls",i.getStepContentId(t)),s(),m("@tabContent",i.isStepActive(t)?ne(37,Xt,ne(35,vt,i.transitionOptions)):ne(41,Gt,ne(39,vt,i.transitionOptions))),s(),m("ngIf",t!==i.stepperPanels.length-1),s(),m("id",i.getStepContentId(t))("template",e.contentTemplate)("orientation",i.orientation)("stepperPanel",e)("index",t)("active",i.isStepActive(t))("highlighted",t<i.activeStep)("ariaLabelledby",i.getStepHeaderActionId(t))}}function nn(n,r){if(n&1&&O(0,tn,6,43,"ng-template",6),n&2){let e=_();m("ngForOf",e.panels)("ngForTrackBy",e.trackByFn)}}function on(n,r){n&1&&Z(0)}function an(n,r){if(n&1&&(R(0),O(1,on,1,0,"ng-container",4),W()),n&2){let e=_();s(),m("ngTemplateOutlet",e.endTemplate)}}var rn=(()=>{class n{id;template;stepperPanel;index;disabled;active;highlighted;getStepProp;ariaControls;onClick=new J;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["p-stepperHeader"]],hostAttrs:[1,"p-element"],inputs:{id:"id",template:"template",stepperPanel:"stepperPanel",index:"index",disabled:"disabled",active:"active",highlighted:"highlighted",getStepProp:"getStepProp",ariaControls:"ariaControls"},outputs:{onClick:"onClick"},decls:3,vars:2,consts:[["buttonRef",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tab",1,"p-stepper-action",3,"click","id","tabindex","aria-controls"],[1,"p-stepper-number"],[1,"p-stepper-title"]],template:function(t,i){if(t&1&&O(0,kt,2,7,"ng-container",1)(1,Ft,5,5,"ng-template",null,0,be),t&2){let l=te(2);m("ngIf",i.template)("ngIfElse",l)}},dependencies:[se,ce],encapsulation:2})}return n})(),ln=(()=>{class n{template;separatorClass;stepperPanel;index;active;highlighted;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["p-stepperSeparator"]],hostAttrs:[1,"p-stepper-separator"],inputs:{template:"template",separatorClass:"separatorClass",stepperPanel:"stepperPanel",index:"index",active:"active",highlighted:"highlighted"},decls:3,vars:2,consts:[["span",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"]],template:function(t,i){if(t&1&&O(0,Dt,2,7,"ng-container",1)(1,Nt,1,2,"ng-template",null,0,be),t&2){let l=te(2);m("ngIf",i.template)("ngIfElse",l)}},dependencies:[se,ce],encapsulation:2})}return n})(),pn=(()=>{class n{id;orientation;template;ariaLabelledby;stepperPanel;index;active;highlighted;onClick=new J;prevCallback=new J;nextCallback=new J;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["p-stepperContent"]],hostVars:6,hostBindings:function(t,i){t&2&&Ie("p-stepper-content",!0)("p-element",!0)("p-toggleable-content",i.orientation==="vertical")},inputs:{id:"id",orientation:"orientation",template:"template",ariaLabelledby:"ariaLabelledby",stepperPanel:"stepperPanel",index:"index",active:"active",highlighted:"highlighted"},outputs:{onClick:"onClick",prevCallback:"prevCallback",nextCallback:"nextCallback"},decls:3,vars:6,consts:[["role","tabpanel","data-pc-name","stepperpanel",3,"id"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"]],template:function(t,i){t&1&&(a(0,"div",0),O(1,Wt,2,9,"ng-container",1)(2,Lt,1,0,null,1),o()),t&2&&(m("id",i.id),ue("data-pc-index",i.index)("data-p-active",i.active)("aria-labelledby",i.ariaLabelledby),s(),m("ngIf",i.template),s(),m("ngIf",!i.template))},dependencies:[se,ce],encapsulation:2})}return n})(),Be=(()=>{class n{header;templates;headerTemplate;startTemplate;contentTemplate;separatorTemplate;endTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"separator":this.separatorTemplate=e.template;break}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["p-stepperPanel"]],contentQueries:function(t,i,l){if(t&1&&he(l,me,4),t&2){let g;fe(g=Ce())&&(i.templates=g)}},hostAttrs:[1,"p-element"],inputs:{header:"header"},ngContentSelectors:Ht,decls:1,vars:0,template:function(t,i){t&1&&(je(),Le(0))},encapsulation:2})}return n})(),yt=(()=>{class n{activeStep=0;orientation="horizontal";linear=!1;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";stepperPanels;templates;onClick=new J;activeStepChange=new J;headerTemplate;startTemplate;separatorTemplate;endTemplate;id=ct();panels;isStepActive(e){return this.activeStep===e}getStepProp(e){if(e?.header)return e.header;if(e?.content)return e.content}getStepKey(e,t){return this.getStepProp(e)||t}getStepHeaderActionId(e){return`${this.id}_${e}_header_action`}getStepContentId(e){return`${this.id}_${e}_content`}updateActiveStep(e,t){this.activeStep=t,this.activeStepChange.emit(this.activeStep)}onItemClick(e,t){if(this.linear){e.preventDefault();return}t!==this.activeStep&&this.updateActiveStep(e,t)}isItemDisabled(e){return this.linear&&!this.isStepActive(e)}prevCallback(e,t){t!==0&&this.updateActiveStep(e,t-1)}nextCallback(e,t){t!==this.stepperPanels.length-1&&this.updateActiveStep(e,t+1)}trackByFn(e){return e}ngAfterContentInit(){this.panels=this.stepperPanels.toArray(),this.templates.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;default:break}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["p-stepper"]],contentQueries:function(t,i,l){if(t&1&&(he(l,Be,4),he(l,me,4)),t&2){let g;fe(g=Ce())&&(i.stepperPanels=g),fe(g=Ce())&&(i.templates=g)}},hostVars:6,hostBindings:function(t,i){t&2&&Ie("p-stepper",!0)("p-component",!0)("p-stepper-vertical",i.orientation==="vertical")},inputs:{activeStep:"activeStep",orientation:"orientation",linear:"linear",transitionOptions:"transitionOptions"},outputs:{onClick:"onClick",activeStepChange:"activeStepChange"},decls:6,vars:4,consts:[["vertical",""],["role","tablist"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"],[1,"p-stepper-nav"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"p-stepper-panels"],["role","presentation",1,"p-stepper-header",3,"key","ngClass","data-pc-name","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],[3,"onClick","id","template","stepperPanel","getStepProp","index","disabled","active","highlighted","aria-controls"],[3,"template","separatorClass","stepperPanel","index","active","highlighted"],[3,"onClick","nextCallback","prevCallback","id","template","orientation","stepperPanel","index","active","highlighted","ariaLabelledby"],[1,"p-stepper-panel",3,"key","ngClass","data-pc-name","data-p-highlight","data-p-disabled","data-pc-index","data-p-active"],[1,"p-stepper-header",3,"ngClass"],[1,"p-stepper-toggleable-content"]],template:function(t,i){if(t&1&&(a(0,"div",1),O(1,Yt,2,1,"ng-container",2)(2,$t,5,4,"ng-container",3)(3,nn,1,2,"ng-template",null,0,be)(5,an,2,1,"ng-container",2),o()),t&2){let l=te(4);s(),m("ngIf",i.startTemplate),s(),m("ngIf",i.orientation==="horizontal")("ngIfElse",l),s(3),m("ngIf",i.endTemplate)}},dependencies:[Xe,Ge,se,ce,pn,rn,ln],styles:[`@layer primeng{.p-stepper-vertical .p-stepper-panel>.p-stepper-toggleable-content{overflow:hidden}.p-stepper-vertical .p-stepper-panel-active>.p-stepper-toggleable-content:not(.ng-animating){overflow:inherit}}
`],encapsulation:2,data:{animation:[Ye("tabContent",[Ae("hidden",Ee({height:"0",visibility:"hidden"})),Ae("visible",Ee({height:"*",visibility:"visible"})),De("visible <=> hidden",[Fe("250ms cubic-bezier(0.86, 0, 0.07, 1)")]),De("void => *",Fe(0))])]},changeDetection:0})}return n})(),St=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ze({type:n});static \u0275inj=We({imports:[Ue,Ne,Ne]})}return n})();var Pt=(()=>{var r,e;let t=class t{constructor(){I(this,r,void 0);I(this,e,void 0);k(this,r,T(B)),k(this,e,T(U)),this.nombre="",this.cantidad=1,this.marca="",this.descripcion="",this.imagen="",this.base64Image="./assets/icons/imgComidaBlack36.svg",this.imgPreview=!1}siguienteForm(){let l={tipo:"alimento",nombre:"Macarrones con salsa de queso roquefort",cantidad:this.cantidad,marca:this.marca,descripcion:this.descripcion,imagen:this.base64Image};this.imgPreview=!0,console.log(l),h(this,r).open(le,{data:{dialogData:l},width:"70%",height:"auto",maxHeight:"90vh"})}subirImg(l){let g=l.target.files[0];if(g){let p=new FileReader;p.readAsDataURL(g),p.onload=()=>{let f=p.result;this.base64Image=f}}}cancelar(){h(this,r).closeAll()}};r=new WeakMap,e=new WeakMap,t.\u0275fac=function(g){return new(g||t)},t.\u0275cmp=F({type:t,selectors:[["app-form-proponer-alimento"]],standalone:!0,features:[N],decls:38,vars:7,consts:[[1,"proponerAlimentoBody"],[1,"contenedor"],[1,"header"],[1,"divTitulo"],[1,"divInfo"],[1,"divForm"],[1,"contForm"],[1,"izq-form"],[1,"input-div"],["for","nombre",1,"labelInput"],["pInputText","","id","nombre","aria-describedby","nombre-help",3,"ngModelChange","ngModel"],["for","cantidad"],["type","number","pInputNumber","","id","cantidad","mode","decimal",3,"ngModelChange","ngModel","min"],["for","marca",1,"labelInput"],["pInputText","","id","marca","aria-describedby","marca-help",3,"ngModelChange","ngModel"],[1,"der-form"],[1,"image-placeholder"],["type","file",3,"change"],["alt","Imagen de muestra","width","175","height","175",3,"src","preview"],["for","descripcion"],["id","descripcion","rows","7","cols","25","pInputTextarea","",3,"ngModelChange","ngModel"],[1,"fin-form"],[1,"btnCancelar","fakeButton",3,"click"],[1,"btnSiguiente","fakeButton",3,"click"]],template:function(g,p){g&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),d(5,"Proponer Alimento"),o()(),a(6,"div",4)(7,"h4"),d(8,"Introduce la informaci\xF3n principal del alimento"),o()()(),a(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),d(14,"Nombre"),o(),a(15,"input",10),S("ngModelChange",function(u){return y(p.nombre,u)||(p.nombre=u),u}),o()(),a(16,"div",8)(17,"label",11),d(18,"Cantidad del alimento (gr o ml)"),o(),a(19,"input",12),S("ngModelChange",function(u){return y(p.cantidad,u)||(p.cantidad=u),u}),o()(),a(20,"div",8)(21,"label",13),d(22,"Marca"),o(),a(23,"input",14),S("ngModelChange",function(u){return y(p.marca,u)||(p.marca=u),u}),o()()(),a(24,"div",15)(25,"div",16)(26,"input",17),x("change",function(u){return p.subirImg(u)}),o(),E(27,"p-image",18),o(),a(28,"div",8)(29,"label",19),d(30,"Descripci\xF3n"),o(),a(31,"textarea",20),S("ngModelChange",function(u){return y(p.descripcion,u)||(p.descripcion=u),u}),d(32," "),o()()()(),a(33,"div",21)(34,"button",22),x("click",function(){return p.cancelar()}),d(35,"Cancelar"),o(),a(36,"button",23),x("click",function(){return p.siguienteForm()}),d(37,"Siguiente"),o()()()()()),g&2&&(s(15),M("ngModel",p.nombre),s(4),M("ngModel",p.cantidad),m("min",1),s(4),M("ngModel",p.marca),s(4),m("src",p.base64Image)("preview",p.imgPreview),s(4),M("ngModel",p.descripcion))},dependencies:[V,H,oe,z,ae,G,j,L,Y,X,q,K,re,Q],styles:[".proponerAlimentoBody[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:82vh}.divForm[_ngcontent-%COMP%]{width:100%}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:0 2%;width:100%;height:100%}.header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:10px;width:100%}h1[_ngcontent-%COMP%]{margin-top:0!important}.divTitulo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:left}.divInfo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.contForm[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:48%}.der-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.contImg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:20px}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid var(--EXTRA_BLACK)!important;width:80%!important;padding:.7rem!important;margin:1%!important;border-radius:4px!important}.input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid var(--EXTRA_BLACK)!important;width:85%!important;padding:.7rem!important;margin:1%!important;border-radius:4px!important}.input-div[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;margin:1%}.divTextarea[_ngcontent-%COMP%]{width:100%;display:flex!important;flex-direction:column!important;align-items:center!important}.labelInfo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:2%}.image-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;margin:1%}p-image[_ngcontent-%COMP%]{margin-top:1%;border:1px solid var(--EXTRA_BLACK)}.fin-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;width:100%}.btnCancelar[_ngcontent-%COMP%]{background-color:var(--PRIMARY_300);color:var(--EXTRA_BLACK);padding:10px 20px;border:none;border-radius:5px;margin-right:60px}.btnSiguiente[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600);color:var(--EXTRA_WHITE_LIGHT);padding:10px 20px;border:none;border-radius:5px;margin-left:60px}@media (max-width: 768px){.contForm[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly}.izq-form[_ngcontent-%COMP%], .der-form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly;justify-content:center}.der-form[_ngcontent-%COMP%]{flex-direction:column-reverse}.image-placeholder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:12px;width:90%}.input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}.fin-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:100%}button[_ngcontent-%COMP%]{padding:7px 0!important;font-size:14px;width:40%;margin:4% 0!important}}"]});let n=t;return n})();function cn(n,r){if(n&1){let e=A();E(0,"app-form-proponer-alimento"),a(1,"div",5)(2,"p-button",6),x("onClick",function(){let i=P(e).nextCallback;return w(i.emit())}),o()()}}function dn(n,r){if(n&1){let e=A();E(0,"app-form-proponer-alimento-nutrientes"),a(1,"div",7)(2,"p-button",8),x("onClick",function(){let i=P(e).prevCallback;return w(i.emit())}),o(),a(3,"p-button",6),x("onClick",function(){let i=P(e).nextCallback;return w(i.emit())}),o()()}}var wt=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=F({type:r,selectors:[["app-proponer-comida-stepper"]],standalone:!0,features:[N],decls:6,vars:1,consts:[[1,"card"],[3,"linear"],["header","Informacion de la comida"],["pTemplate","content"],["header","Informacion nutricional"],[1,"flex","pt-4","justify-content-end"],["label","Next","icon","pi pi-arrow-right","iconPos","right",3,"onClick"],[1,"flex","pt-4","justify-content-between"],["label","Back","icon","pi pi-arrow-left",3,"onClick"]],template:function(i,l){i&1&&(a(0,"div",0)(1,"p-stepper",1)(2,"p-stepperPanel",2),O(3,cn,3,0,"ng-template",3),o(),a(4,"p-stepperPanel",4),O(5,dn,4,0,"ng-template",3),o()()()),i&2&&(s(),m("linear",!0))},dependencies:[St,yt,Be,me,mt,dt,Pt,le],styles:[".card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border:2px solid black}"]});let n=r;return n})();var we=(()=>{var r;let e=class e{constructor(){I(this,r,T(B))}irAReceta(){h(this,r).closeAll(),h(this,r).open(bt,{width:"70%",height:"90%",maxHeight:"100vh"})}irAAlimento(){h(this,r).closeAll(),h(this,r).open(wt,{width:"70%",height:"90%"})}closeDialog(){h(this,r).closeAll()}};r=new WeakMap,e.\u0275fac=function(l){return new(l||e)},e.\u0275cmp=F({type:e,selectors:[["app-switch-proponer-comida"]],standalone:!0,features:[N],decls:13,vars:0,consts:[[1,"swichtContentDiv"],[1,"form-header"],[1,"close-button",3,"click"],[1,"divBtns"],[1,"btnSwitchProponer","btnReceta","fakeButton",3,"click"],[1,"btnSwitchProponer","btnAlimento","fakeButton",3,"click"]],template:function(l,g){l&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h2"),d(4,"\xBFQu\xE9 quiere proponer?"),o()(),a(5,"div")(6,"span",2),x("click",function(){return g.closeDialog()}),d(7,"X"),o()()(),a(8,"div",3)(9,"button",4),x("click",function(){return g.irAReceta()}),d(10,"Proponer Receta"),o(),a(11,"button",5),x("click",function(){return g.irAAlimento()}),d(12,"Proponer Alimento"),o()()())},styles:[".swichtContentDiv[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;min-height:16vh}.form-header[_ngcontent-%COMP%]{padding-bottom:3%;width:80%;display:flex;justify-content:space-between}.close-button[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.divBtns[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-around}button[_ngcontent-%COMP%]{border:0;border-radius:8px}.btnSwitchProponer[_ngcontent-%COMP%]{width:30%;color:#fff;height:35px}.btnReceta[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600)}.btnAlimento[_ngcontent-%COMP%]{background-color:var(--PRIMARY_500)}@media (max-width: 768px){.swichtContentDiv[_ngcontent-%COMP%]{padding-top:4%}button[_ngcontent-%COMP%]{font-size:14px}h1[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 576px){button[_ngcontent-%COMP%]{font-size:14px}}"]});let n=e;return n})();function mn(n,r){if(n&1){let e=A();a(0,"div",8)(1,"label",31),d(2,"Cantidad ingerida (gr o ml)"),o(),a(3,"input",32),S("ngModelChange",function(i){P(e);let l=_();return y(l.cantidad,i)||(l.cantidad=i),w(i)}),x("change",function(){P(e);let i=_();return w(i.onCantidadChange(i.cantidad))}),o()()}if(n&2){let e=_();s(3),M("ngModel",e.cantidad),m("min",1)}}function un(n,r){if(n&1){let e=A();a(0,"div",8)(1,"label",33),d(2,"Descripci\xF3n"),o(),a(3,"textarea",34),S("ngModelChange",function(i){P(e);let l=_();return y(l.textareaContent,i)||(l.textareaContent=i),w(i)}),d(4," "),o()()}if(n&2){let e=_();s(3),M("ngModel",e.textareaContent)}}function gn(n,r){if(n&1){let e=A();a(0,"div",8)(1,"label",33),d(2,"Descripci\xF3n"),o(),a(3,"textarea",34),S("ngModelChange",function(i){P(e);let l=_();return y(l.textareaContent,i)||(l.textareaContent=i),w(i)}),d(4," "),o()()}if(n&2){let e=_();s(3),M("ngModel",e.textareaContent)}}function _n(n,r){if(n&1){let e=A();a(0,"div",8)(1,"label",31),d(2,"Cantidad ingerida (gr o ml)"),o(),a(3,"input",32),S("ngModelChange",function(i){P(e);let l=_();return y(l.cantidad,i)||(l.cantidad=i),w(i)}),x("change",function(){P(e);let i=_();return w(i.onCantidadChange(i.cantidad))}),o()()}if(n&2){let e=_();s(3),M("ngModel",e.cantidad),m("min",1)}}function hn(n,r){if(n&1){let e=A();a(0,"div",8)(1,"label",33),d(2,"Descripci\xF3n"),o(),a(3,"textarea",34),S("ngModelChange",function(i){P(e);let l=_();return y(l.textareaContent,i)||(l.textareaContent=i),w(i)}),d(4," "),o()()}if(n&2){let e=_();s(3),M("ngModel",e.textareaContent)}}function fn(n,r){if(n&1){let e=A();a(0,"div",14)(1,"label",35),d(2,"Marca del alimento "),o(),a(3,"input",36),S("ngModelChange",function(i){P(e);let l=_();return y(l.marca,i)||(l.marca=i),w(i)}),o()()}if(n&2){let e=_();s(3),M("ngModel",e.marca),m("min",1)}}var It=(()=>{var r,e,t,i,l,g,p;let f=class f{constructor(){I(this,r,void 0);I(this,e,void 0);I(this,t,void 0);I(this,i,void 0);I(this,l,void 0);I(this,g,void 0);I(this,p,void 0);this.ruta="http://localhost:8000",k(this,r,T(B)),k(this,e,T(ie)),k(this,t,T(U)),k(this,i,T(ve)),k(this,l,T(ft)),k(this,g,T(pt)),k(this,p,T(Me)),this.myControl=new de(""),this.options=["Escriba el nombre del alimento"],this.opcionesAlimentos=[],this.textareaContent="Descripci\xF3n del alimento",this.instrucciones="",this.imagen="",this.marca="",this.cantidad="",this.calorias="",this.proteinas="",this.grasas="",this.carbohidratos="",this.azucares="",this.receta=!1,this.nombreAlimento="",this.comidaSeleccionada="",this.base64Image="./assets/icons/noImgBlack36.svg",this.imgPreview=!1,this.guardandoConsumo=!1,this.cantidadDisable=!0,this.tamanoPantalla="pantalla"}ngOnInit(){this.tamanoPantallaSub=h(this,g).tamanoPantalla$.subscribe(b=>{this.tamanoPantalla=b,console.log(this.tamanoPantalla)})}closeDialog(){h(this,r).closeAll()}onInputChange(b){h(this,p).getBusquedaNombre(b).subscribe(c=>{console.log(c.respuesta);let C=[],D=[];if(c.respuesta==="No se ha encontrado el alimento")C.push({nombre:"No se encontraron resultados, prop\xF3n el tuyo!",tipo:"no-encontrado"});else for(let v of c.respuesta)v.marca==null?(console.log(v.nombre),console.log(v.marca),C.push({nombre:v.nombre,tipo:"receta"}),D.push(v.nombre)):(C.push({nombre:v.nombre,tipo:"alimento"}),D.push(v.nombre));this.opcionesAlimentos=C,this.opcionesAlimentosNombre=D})}mostrar(b){b=this.opcionesAlimentos.find(c=>c.nombre===b),b==null||(b.tipo=="receta"?h(this,p).getBusquedaReceta(b.nombre).subscribe(c=>{this.receta=!0,this.imgPreview=!0,this.textareaContent=c.respuesta[0].descripcion,this.comidaSeleccionada=c.respuesta[0].nombre,this.base64Image=c.respuesta[0].imagen,this.instrucciones=c.respuesta[0].instrucciones,this.calorias=c.respuesta[0].calorias,this.proteinas=c.respuesta[0].proteinas,this.grasas=c.respuesta[0].grasas,this.carbohidratos=c.respuesta[0].carbohidratos,this.azucares=c.respuesta[0].azucares,this.dataNutrientes=c.respuesta[0]}):h(this,p).getBusquedaNombre(b.nombre).subscribe(c=>{this.imgPreview=!0,this.receta=!1,this.textareaContent=c.respuesta[0].descripcion,this.comidaSeleccionada=c.respuesta[0].nombre,this.base64Image=c.respuesta[0].imagen,this.marca=c.respuesta[0].marca,this.calorias=c.respuesta[0].calorias,this.proteinas=c.respuesta[0].proteinas,this.grasas=c.respuesta[0].grasas,this.carbohidratos=c.respuesta[0].carbohidratos,this.azucares=c.respuesta[0].azucares,this.dataNutrientes=c.respuesta[0]}))}guardarConsumo(b){if(console.log(b),console.log(this.cantidad),b==""||parseInt(b)<1)h(this,t).open("Cantidad introducida no v\xE1lida","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]});else if(this.comidaSeleccionada===""||this.comidaSeleccionada==="No se encontraron resultados, prop\xF3n el tuyo!"||this.comidaSeleccionada===void 0){h(this,t).open("Alimento seleccionado no v\xE1lido","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]});return}else{this.guardandoConsumo=!0;let c=this.getIDUsuario(),C=new Date,D=C.toISOString().split("T")[0],v=C.toISOString().split("T")[1].split(".")[0],pe,ee=C.getHours();ee>=6&&ee<10?pe="Desayuno":ee>=12&&ee<16?pe="Almuerzo":ee>=20&&ee<24?pe="Cena":pe="Entre horas",h(this,p).postConsumoDiarioGuardar(c,b,pe,D,v,this.comidaSeleccionada).subscribe(Re=>{console.log(Re.respuesta),Re.code==200?(h(this,r).closeAll(),this.guardandoConsumo=!1,h(this,t).open("Consumo guardado correctamente","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),setTimeout(()=>{location.reload()},3500)):(this.guardandoConsumo=!1,h(this,t).open("Error al guardar el consumo","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]}))})}}onCantidadChange(b){if(b===""||parseInt(b)<1)h(this,t).open("Cantidad introducida no v\xE1lida","",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["error-snackbar"]});else if(console.log(this.dataNutrientes),this.dataNutrientes.cantidad===void 0){let c=parseFloat(b)/this.dataNutrientes.cantidad_final;this.proteinas=Math.round(parseFloat(this.dataNutrientes.proteinas)*c*100)/100+"",this.grasas=Math.round(parseFloat(this.dataNutrientes.grasas)*c*100)/100+"",this.carbohidratos=Math.round(parseFloat(this.dataNutrientes.carbohidratos)*c*100)/100+"",this.azucares=Math.round(parseFloat(this.dataNutrientes.azucares)*c*100)/100+""}else{let c=parseFloat(b)/this.dataNutrientes.cantidad;this.proteinas=Math.round(parseFloat(this.dataNutrientes.proteinas)*c*100)/100+"",this.grasas=Math.round(parseFloat(this.dataNutrientes.grasas)*c*100)/100+"",this.carbohidratos=Math.round(parseFloat(this.dataNutrientes.carbohidratos)*c*100)/100+"",this.azucares=Math.round(parseFloat(this.dataNutrientes.azucares)*c*100)/100+""}}proponerAlimento(){h(this,r).open(we,{width:"40%",height:"auto",maxHeight:"90vh"})}getIDUsuario(){return localStorage.getItem("idUsuarioLogeado")}};r=new WeakMap,e=new WeakMap,t=new WeakMap,i=new WeakMap,l=new WeakMap,g=new WeakMap,p=new WeakMap,f.\u0275fac=function(c){return new(c||f)},f.\u0275cmp=F({type:f,selectors:[["app-form-consumir"]],standalone:!0,features:[xe([ye()]),N],decls:51,vars:15,consts:[[1,"proponerRecetaBody"],[1,"contenedor"],[1,"header"],[1,"divTitulo"],[1,"divInfo"],[1,"datosReceta"],[1,"partePrinciapl"],[1,"principalIzq"],[1,"input-div"],["for","nombre",1,"labelInput"],[3,"ngModelChange","completeMethod","click","ngModel","suggestions"],[1,"principalDer"],[1,"parteNutrientes"],[1,"columna1"],[1,"input-div-disabled"],["for","proteinas",1,"labelInput"],["pInputNumber","","id","proteinas","mode","decimal","disabled","true",3,"ngModelChange","ngModel","min"],["for","grasas",1,"labelInput"],["pInputNumber","","id","grasas","mode","decimal","disabled","true",3,"ngModelChange","ngModel","min"],[1,"columna2"],["for","carbohidratos",1,"labelInput"],["pInputNumber","","id","carbohidratos","mode","decimal","disabled","true",3,"ngModelChange","ngModel","min"],["for","azucares",1,"labelInput"],["pInputNumber","","id","azucares","mode","decimal","disabled","true",3,"ngModelChange","ngModel","min"],[1,"columna3"],[1,"parteImagen"],[1,"image-placeholder"],["alt","Imagen de muestra","width","200","height","200",3,"src","preview"],[1,"parteBotones"],[1,"btnRechazar","fakeButton",3,"click"],[1,"btnAceptar","fakeButton",3,"click"],["for","cantidad",1,"labelInput"],["pInputNumber","","type","number","id","cantidad","mode","decimal",3,"ngModelChange","change","ngModel","min"],["for","textareaContent",1,"labelInput"],["id","textareaContent","rows","5","cols","15","pInputTextarea","","disabled","true",3,"ngModelChange","ngModel"],["for","marca",1,"labelInput"],["pInputNumber","","id","marca","mode","decimal","disabled","true",3,"ngModelChange","ngModel","min"]],template:function(c,C){c&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),d(5,"Formulario agregar comida consumida"),o()(),a(6,"div",4)(7,"h4"),d(8,"Informaci\xF3n principal de la receta"),o()()(),a(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),d(14,"Nombre"),o(),a(15,"p-autoComplete",10),S("ngModelChange",function(v){return y(C.nombreAlimento,v)||(C.nombreAlimento=v),v}),x("completeMethod",function(){return C.onInputChange(C.nombreAlimento)})("click",function(){return C.mostrar(C.nombreAlimento)}),o()(),O(16,mn,4,2,"div",8)(17,un,5,1),o(),a(18,"div",11),O(19,gn,5,1,"div",8)(20,_n,4,2)(21,hn,5,1,"div",8)(22,fn,4,2),o()(),a(23,"div",12)(24,"div",13)(25,"div",14)(26,"label",15),d(27,"Prote\xEDnas (gr)"),o(),a(28,"input",16),S("ngModelChange",function(v){return y(C.proteinas,v)||(C.proteinas=v),v}),o()(),a(29,"div",14)(30,"label",17),d(31,"Grasas (gr)"),o(),a(32,"input",18),S("ngModelChange",function(v){return y(C.grasas,v)||(C.grasas=v),v}),o()()(),a(33,"div",19)(34,"div",14)(35,"label",20),d(36,"Carbohidratos"),o(),a(37,"input",21),S("ngModelChange",function(v){return y(C.carbohidratos,v)||(C.carbohidratos=v),v}),o()(),a(38,"div",14)(39,"label",22),d(40,"Az\xFAcares (gr)"),o(),a(41,"input",23),S("ngModelChange",function(v){return y(C.azucares,v)||(C.azucares=v),v}),o()()(),a(42,"div",24)(43,"div",25)(44,"div",26),E(45,"p-image",27),o()()()()(),a(46,"div",28)(47,"button",29),x("click",function(){return C.proponerAlimento()}),d(48,"Proponer alimento"),o(),a(49,"button",30),x("click",function(){return C.guardarConsumo(C.cantidad)}),d(50,"Guardar"),o()()()()),c&2&&(s(15),M("ngModel",C.nombreAlimento),m("suggestions",C.opcionesAlimentosNombre),s(),_e(16,C.tamanoPantalla=="pequena"||C.tamanoPantalla=="mediana"?16:17),s(3),_e(19,C.tamanoPantalla=="pequena"||C.tamanoPantalla=="mediana"?19:20),s(2),_e(21,C.receta?21:22),s(7),M("ngModel",C.proteinas),m("min",1),s(4),M("ngModel",C.grasas),m("min",1),s(5),M("ngModel",C.carbohidratos),m("min",1),s(4),M("ngModel",C.azucares),m("min",1),s(4),m("src",C.base64Image)("preview",C.imgPreview))},dependencies:[j,gt,G,V,H,oe,z,ae,X,q,L,Y,K,re,Q,ht,_t],styles:["body[_ngcontent-%COMP%]{background-color:#f5f5f5}.proponerRecetaBody[_ngcontent-%COMP%]{max-width:100%;min-height:auto;background-color:#fff;border:2px solid black;padding:0 20px 20px;box-shadow:0 4px 8px #0000001a}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column}.divTitulo[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}h2[_ngcontent-%COMP%]{font-size:clamp(1rem,1.8vw,2rem)}.divInfo[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0}.contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.partePrinciapl[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.principalIzq[_ngcontent-%COMP%], .principalDer[_ngcontent-%COMP%]{width:48%;display:flex;flex-direction:column;align-items:center}.parteNutrientes[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:2%}.columna1[_ngcontent-%COMP%], .columna2[_ngcontent-%COMP%]{width:25%;display:flex;flex-direction:column;align-items:center;margin-bottom:2%;padding-left:5%}.columna3[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;align-items:center;margin-bottom:2%}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff;border:1px solid black;width:80%;padding:.6rem;border-radius:4px;display:flex;align-items:center}.input-div-disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;width:80%;padding:.6rem;border-radius:4px;display:flex;background-color:#f5f5f5;border:1px solid var(--EXTRA_WHITE)}.input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;width:80%;background-color:#f5f5f5;border:1px solid var(--EXTRA_WHITE);border-radius:4px}.input-div[_ngcontent-%COMP%], .input-div-disabled[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;margin:1%;width:80%}.labelInput[_ngcontent-%COMP%]{font-size:1rem;margin:.2rem}.parteImagen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.image-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.parteBotones[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-top:2%}button[_ngcontent-%COMP%]{color:#fff;padding:10px 25px;border:none;border-radius:5px;font-size:16px}.btnRechazar[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600)}.btnAceptar[_ngcontent-%COMP%]{background-color:var(--SUCCESS_600)}@media (max-width: 768px){.partePrinciapl[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-evenly;width:100%}.principalIzq[_ngcontent-%COMP%], .principalDer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-evenly}.principalIzq[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%], .principalDer[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .input-div-disabled[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-div[_ngcontent-%COMP%], .principalDer[_ngcontent-%COMP%]   .input-div-disabled[_ngcontent-%COMP%]{width:100%}.parteNutrientes[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-evenly;width:100%}.input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:95%}.columna1[_ngcontent-%COMP%], .columna2[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.columna3[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.pieForm[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:100%}button[_ngcontent-%COMP%]{padding:7px 0!important;font-size:14px;width:45%}}"]});let n=f;return n})();var yo=(()=>{var r,e,t;let i=class i{constructor(){I(this,r,void 0);I(this,e,void 0);I(this,t,void 0);k(this,r,T(B)),k(this,e,T(ve)),k(this,t,T(ie)),this.fechaInicio=new Date,this.fechaFin=new Date,this.fechaInicioMostrar="",this.fechaFinMostrar="",this.rangoFechas=new Ke({start:new de(null),end:new de(null)})}ngOnInit(){this.checkLogedIn(),this.datePickerChange()}openDialog(){h(this,r).open(It,{width:"70%",height:"auto",maxHeight:"90vh"})}proponerComida(){h(this,r).open(we,{width:"70%",height:"auto",maxHeight:"90vh"})}checkLogedIn(){h(this,e).fbUserEmail().then(g=>{g!==null?console.log("Usuario logeado"):(console.log("Usuario no logeado"),h(this,t).navigate(["/login"]))})}datePickerChange(){this.rangoFechas.valueChanges.subscribe(g=>{g.start!=null&&g.end!=null&&(this.fechaInicio=new Date(g.start.toISOString().split("T")[0]),this.fechaInicio.setDate(this.fechaInicio.getDate()+1),this.fechaFin=new Date(g.end.toISOString().split("T")[0]),this.fechaFin.setDate(this.fechaFin.getDate()+1),localStorage.setItem("fechaInicioHome",this.fechaInicio.toISOString()),localStorage.setItem("fechaFinHome",this.fechaFin.toISOString()),console.log("Fecha inicio: "+this.fechaInicio.toISOString()),console.log("Fecha fin: "+this.fechaFin.toISOString()),window.location.reload())})}};r=new WeakMap,e=new WeakMap,t=new WeakMap,i.\u0275fac=function(p){return new(p||i)},i.\u0275cmp=F({type:i,selectors:[["app-comidas-home"]],standalone:!0,features:[xe([ye()]),N],decls:20,vars:3,consts:[["picker",""],[1,"comidasHome"],[1,"content"],[1,"date-container"],["matIconSuffix","",3,"for"],["touchUi",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","hidden",""],["matEndDate","","formControlName","end","placeholder","End date","hidden",""],[1,"divBtn"],[1,"btnEjerciciosHome","btnProponer","fakeButton",3,"click"],[1,"btnEjerciciosHome","btnAnadir","fakeButton",3,"click"]],template:function(p,f){if(p&1){let u=A();a(0,"div",1)(1,"div",2)(2,"h1"),d(3,"Alimentos y recetas consumidas"),o(),a(4,"div",3)(5,"div")(6,"mat-label"),d(7,"Selecciona un rango de fechas"),o(),E(8,"mat-datepicker-toggle",4)(9,"mat-date-range-picker",5,0),a(11,"mat-date-range-input",6),E(12,"input",7)(13,"input",8),o()()(),E(14,"app-tabla-comidas"),a(15,"div",9)(16,"button",10),x("click",function(){return P(u),w(f.proponerComida())}),d(17,"Proponer comida"),o(),a(18,"button",11),x("click",function(){return P(u),w(f.openDialog())}),d(19,"A\xF1adir"),o()()()()}if(p&2){let u=te(10);s(8),m("for",u),s(3),m("formGroup",f.rangoFechas)("rangePicker",u)}},dependencies:[j,et,tt,lt,nt,at,it,ot,rt,V,H,z,Se,Ze,$e,Ct],styles:[".comidasHome[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-top:10vh;width:100%;border-radius:20px}.content[_ngcontent-%COMP%]{background-color:var(--SECONDARY_50);display:flex;align-items:center;flex-direction:column;width:85%;min-height:10vh;box-shadow:-4px 4px 8px #0000001a,0 4px 8px #0000001a;border-radius:7px}app-tabla-comidas-completa[_ngcontent-%COMP%]{width:99%}app-tabla-comidas[_ngcontent-%COMP%]{width:99%}h1[_ngcontent-%COMP%]{width:80%;text-align:left}button[_ngcontent-%COMP%]{border:0;border-radius:8px}.divBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:80%;text-align:right;margin:3%}.btnEjerciciosHome[_ngcontent-%COMP%]{width:30%;color:#fff;height:35px}.btnProponer[_ngcontent-%COMP%]{background-color:var(--TERTIARY_600)}.btnAnadir[_ngcontent-%COMP%]{background-color:var(--PRIMARY_500)}@media (max-width: 768px){button[_ngcontent-%COMP%]{font-size:14px}h1[_ngcontent-%COMP%]{font-size:24px}}@media (max-width: 576px){button[_ngcontent-%COMP%]{font-size:14px}}"]});let n=i;return n})();export{yo as ComidasHomeComponent};
