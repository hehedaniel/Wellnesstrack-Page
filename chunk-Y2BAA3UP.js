import{a as Za}from"./chunk-YWPVSRKG.js";import{a as Qa}from"./chunk-MWDMYLDE.js";import{a as xa}from"./chunk-LVPNQU37.js";import{a as ja,d as qa}from"./chunk-RJUX6C3Z.js";import"./chunk-C5IJIVBD.js";import"./chunk-K3LIOYUM.js";import"./chunk-OU5BUBHV.js";import{b as fa}from"./chunk-6GVAIPX2.js";import"./chunk-RETDGAQG.js";import"./chunk-CRGTD5HW.js";import{a as Ia,b as Oa,c as Ba,d as Pa,e as Ra,f as Ga}from"./chunk-2UPKGN5O.js";import{a as Ha}from"./chunk-C5YLPQLY.js";import{a as Na,b as za,c as $a}from"./chunk-5DX2HYX4.js";import"./chunk-J7F7KZJ2.js";import{a as ba,b as Ta,l as Wa}from"./chunk-YBJLJ2WG.js";import{l as ga}from"./chunk-6OMSEINS.js";import"./chunk-N5MVP6Y3.js";import{B as Ma,M as sn,Q as Xa,S as Ya,b as wa,g as Sa,h as ka,i as Aa,k as an,o as La,p as Da,r as Fa,s as ei,t as Ea,v as Va,z as ti}from"./chunk-MZKIP52W.js";import{Ia as Ca,da as ya,o as _a,r as va}from"./chunk-OZO5R2AD.js";import{l as Jt,m as Ue,o as ua,p as Be,r as ut,s as nn}from"./chunk-WB557K7N.js";import{$b as Ki,A as ia,Ab as oe,Ba as Xt,Bb as A,Cb as le,Cc as pa,Da as aa,Db as fe,Fa as qe,Fb as pt,Ga as E,Gb as da,Hb as ma,Hc as Kt,I as na,La as Yt,Lb as _,Mb as y,Nb as M,Rb as Oe,Ub as q,Wb as L,Xb as qi,Yb as Zi,Za as sa,_b as Ui,ab as ra,ac as jt,bc as qt,cc as Zt,da as Yi,db as x,dc as N,ea as P,eb as H,ec as Ze,fc as Ce,gc as Ji,ia as dt,ib as oa,ja as mt,kb as Wt,kc as Ut,lc as Ae,mb as Qi,nc as en,oa as O,ob as ji,oc as tn,pa as R,qa as Wi,rb as Qt,wa as Te,wb as J,xa as Q,xb as la,ya as j,yb as ca,za as ne,zb as ha}from"./chunk-CPJRB4V3.js";import{a as Ie,d as Fo,f as Eo,g as ct,h as ht,i as Xi,m as ta}from"./chunk-73B72BQ3.js";var co=Fo((a_,lo)=>{"use strict";lo.exports=lh;function ot(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function lh(e){if(e=e||{},e.circles)return ch(e);return e.proto?n:t;function i(a,s){for(var r=Object.keys(a),o=new Array(r.length),c=0;c<r.length;c++){var l=r[c],h=a[l];typeof h!="object"||h===null?o[l]=h:h instanceof Date?o[l]=new Date(h):ArrayBuffer.isView(h)?o[l]=ot(h):o[l]=s(h)}return o}function t(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,t);if(a instanceof Map)return new Map(i(Array.from(a),t));if(a instanceof Set)return new Set(i(Array.from(a),t));var s={};for(var r in a)if(Object.hasOwnProperty.call(a,r)!==!1){var o=a[r];typeof o!="object"||o===null?s[r]=o:o instanceof Date?s[r]=new Date(o):o instanceof Map?s[r]=new Map(i(Array.from(o),t)):o instanceof Set?s[r]=new Set(i(Array.from(o),t)):ArrayBuffer.isView(o)?s[r]=ot(o):s[r]=t(o)}return s}function n(a){if(typeof a!="object"||a===null)return a;if(a instanceof Date)return new Date(a);if(Array.isArray(a))return i(a,n);if(a instanceof Map)return new Map(i(Array.from(a),n));if(a instanceof Set)return new Set(i(Array.from(a),n));var s={};for(var r in a){var o=a[r];typeof o!="object"||o===null?s[r]=o:o instanceof Date?s[r]=new Date(o):o instanceof Map?s[r]=new Map(i(Array.from(o),n)):o instanceof Set?s[r]=new Set(i(Array.from(o),n)):ArrayBuffer.isView(o)?s[r]=ot(o):s[r]=n(o)}return s}}function ch(e){var i=[],t=[];return e.proto?s:a;function n(r,o){for(var c=Object.keys(r),l=new Array(c.length),h=0;h<c.length;h++){var m=c[h],d=r[m];if(typeof d!="object"||d===null)l[m]=d;else if(d instanceof Date)l[m]=new Date(d);else if(ArrayBuffer.isView(d))l[m]=ot(d);else{var p=i.indexOf(d);p!==-1?l[m]=t[p]:l[m]=o(d)}}return l}function a(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return n(r,a);if(r instanceof Map)return new Map(n(Array.from(r),a));if(r instanceof Set)return new Set(n(Array.from(r),a));var o={};i.push(r),t.push(o);for(var c in r)if(Object.hasOwnProperty.call(r,c)!==!1){var l=r[c];if(typeof l!="object"||l===null)o[c]=l;else if(l instanceof Date)o[c]=new Date(l);else if(l instanceof Map)o[c]=new Map(n(Array.from(l),a));else if(l instanceof Set)o[c]=new Set(n(Array.from(l),a));else if(ArrayBuffer.isView(l))o[c]=ot(l);else{var h=i.indexOf(l);h!==-1?o[c]=t[h]:o[c]=a(l)}}return i.pop(),t.pop(),o}function s(r){if(typeof r!="object"||r===null)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return n(r,s);if(r instanceof Map)return new Map(n(Array.from(r),s));if(r instanceof Set)return new Set(n(Array.from(r),s));var o={};i.push(r),t.push(o);for(var c in r){var l=r[c];if(typeof l!="object"||l===null)o[c]=l;else if(l instanceof Date)o[c]=new Date(l);else if(l instanceof Map)o[c]=new Map(n(Array.from(l),s));else if(l instanceof Set)o[c]=new Set(n(Array.from(l),s));else if(ArrayBuffer.isView(l))o[c]=ot(l);else{var h=i.indexOf(l);h!==-1?o[c]=t[h]:o[c]=s(l)}}return i.pop(),t.pop(),o}}});var ii="http://www.w3.org/1999/xhtml",rn={svg:"http://www.w3.org/2000/svg",xhtml:ii,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function we(e){var i=e+="",t=i.indexOf(":");return t>=0&&(i=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),rn.hasOwnProperty(i)?{space:rn[i],local:e}:e}function Vo(e){return function(){var i=this.ownerDocument,t=this.namespaceURI;return t===ii&&i.documentElement.namespaceURI===ii?i.createElement(e):i.createElementNS(t,e)}}function Mo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ni(e){var i=we(e);return(i.local?Mo:Vo)(i)}function Io(){}function Pe(e){return e==null?Io:function(){return this.querySelector(e)}}function Ua(e){typeof e!="function"&&(e=Pe(e));for(var i=this._groups,t=i.length,n=new Array(t),a=0;a<t;++a)for(var s=i[a],r=s.length,o=n[a]=new Array(r),c,l,h=0;h<r;++h)(c=s[h])&&(l=e.call(c,c.__data__,h,s))&&("__data__"in c&&(l.__data__=c.__data__),o[h]=l);return new I(n,this._parents)}function on(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Oo(){return[]}function gt(e){return e==null?Oo:function(){return this.querySelectorAll(e)}}function Bo(e){return function(){return on(e.apply(this,arguments))}}function Ka(e){typeof e=="function"?e=Bo(e):e=gt(e);for(var i=this._groups,t=i.length,n=[],a=[],s=0;s<t;++s)for(var r=i[s],o=r.length,c,l=0;l<o;++l)(c=r[l])&&(n.push(e.call(c,c.__data__,l,r)),a.push(c));return new I(n,a)}function ft(e){return function(){return this.matches(e)}}function ai(e){return function(i){return i.matches(e)}}var Po=Array.prototype.find;function Ro(e){return function(){return Po.call(this.children,e)}}function Go(){return this.firstElementChild}function Ja(e){return this.select(e==null?Go:Ro(typeof e=="function"?e:ai(e)))}var Ho=Array.prototype.filter;function No(){return Array.from(this.children)}function zo(e){return function(){return Ho.call(this.children,e)}}function es(e){return this.selectAll(e==null?No:zo(typeof e=="function"?e:ai(e)))}function ts(e){typeof e!="function"&&(e=ft(e));for(var i=this._groups,t=i.length,n=new Array(t),a=0;a<t;++a)for(var s=i[a],r=s.length,o=n[a]=[],c,l=0;l<r;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&o.push(c);return new I(n,this._parents)}function si(e){return new Array(e.length)}function is(){return new I(this._enter||this._groups.map(si),this._parents)}function xt(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}xt.prototype={constructor:xt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ns(e){return function(){return e}}function $o(e,i,t,n,a,s){for(var r=0,o,c=i.length,l=s.length;r<l;++r)(o=i[r])?(o.__data__=s[r],n[r]=o):t[r]=new xt(e,s[r]);for(;r<c;++r)(o=i[r])&&(a[r]=o)}function Xo(e,i,t,n,a,s,r){var o,c,l=new Map,h=i.length,m=s.length,d=new Array(h),p;for(o=0;o<h;++o)(c=i[o])&&(d[o]=p=r.call(c,c.__data__,o,i)+"",l.has(p)?a[o]=c:l.set(p,c));for(o=0;o<m;++o)p=r.call(e,s[o],o,s)+"",(c=l.get(p))?(n[o]=c,c.__data__=s[o],l.delete(p)):t[o]=new xt(e,s[o]);for(o=0;o<h;++o)(c=i[o])&&l.get(d[o])===c&&(a[o]=c)}function Yo(e){return e.__data__}function as(e,i){if(!arguments.length)return Array.from(this,Yo);var t=i?Xo:$o,n=this._parents,a=this._groups;typeof e!="function"&&(e=ns(e));for(var s=a.length,r=new Array(s),o=new Array(s),c=new Array(s),l=0;l<s;++l){var h=n[l],m=a[l],d=m.length,p=Wo(e.call(h,h&&h.__data__,l,n)),u=p.length,g=o[l]=new Array(u),w=r[l]=new Array(u),b=c[l]=new Array(d);t(h,m,g,w,b,p,i);for(var D=0,k=0,F,S;D<u;++D)if(F=g[D]){for(D>=k&&(k=D+1);!(S=w[k])&&++k<u;);F._next=S||null}}return r=new I(r,n),r._enter=o,r._exit=c,r}function Wo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ss(){return new I(this._exit||this._groups.map(si),this._parents)}function rs(e,i,t){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),i!=null&&(a=i(a),a&&(a=a.selection())),t==null?s.remove():t(s),n&&a?n.merge(a).order():a}function os(e){for(var i=e.selection?e.selection():e,t=this._groups,n=i._groups,a=t.length,s=n.length,r=Math.min(a,s),o=new Array(a),c=0;c<r;++c)for(var l=t[c],h=n[c],m=l.length,d=o[c]=new Array(m),p,u=0;u<m;++u)(p=l[u]||h[u])&&(d[u]=p);for(;c<a;++c)o[c]=t[c];return new I(o,this._parents)}function ls(){for(var e=this._groups,i=-1,t=e.length;++i<t;)for(var n=e[i],a=n.length-1,s=n[a],r;--a>=0;)(r=n[a])&&(s&&r.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(r,s),s=r);return this}function cs(e){e||(e=Qo);function i(m,d){return m&&d?e(m.__data__,d.__data__):!m-!d}for(var t=this._groups,n=t.length,a=new Array(n),s=0;s<n;++s){for(var r=t[s],o=r.length,c=a[s]=new Array(o),l,h=0;h<o;++h)(l=r[h])&&(c[h]=l);c.sort(i)}return new I(a,this._parents).order()}function Qo(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}function hs(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ds(){return Array.from(this)}function ms(){for(var e=this._groups,i=0,t=e.length;i<t;++i)for(var n=e[i],a=0,s=n.length;a<s;++a){var r=n[a];if(r)return r}return null}function ps(){let e=0;for(let i of this)++e;return e}function us(){return!this.node()}function gs(e){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var a=i[t],s=0,r=a.length,o;s<r;++s)(o=a[s])&&e.call(o,o.__data__,s,a);return this}function jo(e){return function(){this.removeAttribute(e)}}function qo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zo(e,i){return function(){this.setAttribute(e,i)}}function Uo(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function Ko(e,i){return function(){var t=i.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function Jo(e,i){return function(){var t=i.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function fs(e,i){var t=we(e);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((i==null?t.local?qo:jo:typeof i=="function"?t.local?Jo:Ko:t.local?Uo:Zo)(t,i))}function ri(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function el(e){return function(){this.style.removeProperty(e)}}function tl(e,i,t){return function(){this.style.setProperty(e,i,t)}}function il(e,i,t){return function(){var n=i.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,t)}}function xs(e,i,t){return arguments.length>1?this.each((i==null?el:typeof i=="function"?il:tl)(e,i,t??"")):Le(this.node(),e)}function Le(e,i){return e.style.getPropertyValue(i)||ri(e).getComputedStyle(e,null).getPropertyValue(i)}function nl(e){return function(){delete this[e]}}function al(e,i){return function(){this[e]=i}}function sl(e,i){return function(){var t=i.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function _s(e,i){return arguments.length>1?this.each((i==null?nl:typeof i=="function"?sl:al)(e,i)):this.node()[e]}function vs(e){return e.trim().split(/^|\s+/)}function ln(e){return e.classList||new ys(e)}function ys(e){this._node=e,this._names=vs(e.getAttribute("class")||"")}ys.prototype={add:function(e){var i=this._names.indexOf(e);i<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bs(e,i){for(var t=ln(e),n=-1,a=i.length;++n<a;)t.add(i[n])}function Ts(e,i){for(var t=ln(e),n=-1,a=i.length;++n<a;)t.remove(i[n])}function rl(e){return function(){bs(this,e)}}function ol(e){return function(){Ts(this,e)}}function ll(e,i){return function(){(i.apply(this,arguments)?bs:Ts)(this,e)}}function Cs(e,i){var t=vs(e+"");if(arguments.length<2){for(var n=ln(this.node()),a=-1,s=t.length;++a<s;)if(!n.contains(t[a]))return!1;return!0}return this.each((typeof i=="function"?ll:i?rl:ol)(t,i))}function cl(){this.textContent=""}function hl(e){return function(){this.textContent=e}}function dl(e){return function(){var i=e.apply(this,arguments);this.textContent=i??""}}function ws(e){return arguments.length?this.each(e==null?cl:(typeof e=="function"?dl:hl)(e)):this.node().textContent}function ml(){this.innerHTML=""}function pl(e){return function(){this.innerHTML=e}}function ul(e){return function(){var i=e.apply(this,arguments);this.innerHTML=i??""}}function Ss(e){return arguments.length?this.each(e==null?ml:(typeof e=="function"?ul:pl)(e)):this.node().innerHTML}function gl(){this.nextSibling&&this.parentNode.appendChild(this)}function ks(){return this.each(gl)}function fl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function As(){return this.each(fl)}function Ls(e){var i=typeof e=="function"?e:ni(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})}function xl(){return null}function Ds(e,i){var t=typeof e=="function"?e:ni(e),n=i==null?xl:typeof i=="function"?i:Pe(i);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})}function _l(){var e=this.parentNode;e&&e.removeChild(this)}function Fs(){return this.each(_l)}function vl(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function yl(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Es(e){return this.select(e?yl:vl)}function Vs(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bl(e){return function(i){e.call(this,i,this.__data__)}}function Tl(e){return e.trim().split(/^|\s+/).map(function(i){var t="",n=i.indexOf(".");return n>=0&&(t=i.slice(n+1),i=i.slice(0,n)),{type:i,name:t}})}function Cl(e){return function(){var i=this.__on;if(i){for(var t=0,n=-1,a=i.length,s;t<a;++t)s=i[t],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):i[++n]=s;++n?i.length=n:delete this.__on}}}function wl(e,i,t){return function(){var n=this.__on,a,s=bl(i);if(n){for(var r=0,o=n.length;r<o;++r)if((a=n[r]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=t),a.value=i;return}}this.addEventListener(e.type,s,t),a={type:e.type,name:e.name,value:i,listener:s,options:t},n?n.push(a):this.__on=[a]}}function Ms(e,i,t){var n=Tl(e+""),a,s=n.length,r;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,l=o.length,h;c<l;++c)for(a=0,h=o[c];a<s;++a)if((r=n[a]).type===h.type&&r.name===h.name)return h.value}return}for(o=i?wl:Cl,a=0;a<s;++a)this.each(o(n[a],i,t));return this}function Is(e,i,t){var n=ri(e),a=n.CustomEvent;typeof a=="function"?a=new a(i,t):(a=n.document.createEvent("Event"),t?(a.initEvent(i,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(i,!1,!1)),e.dispatchEvent(a)}function Sl(e,i){return function(){return Is(this,e,i)}}function kl(e,i){return function(){return Is(this,e,i.apply(this,arguments))}}function Os(e,i){return this.each((typeof i=="function"?kl:Sl)(e,i))}function*Bs(){for(var e=this._groups,i=0,t=e.length;i<t;++i)for(var n=e[i],a=0,s=n.length,r;a<s;++a)(r=n[a])&&(yield r)}var cn=[null];function I(e,i){this._groups=e,this._parents=i}function Ps(){return new I([[document.documentElement]],cn)}function Al(){return this}I.prototype=Ps.prototype={constructor:I,select:Ua,selectAll:Ka,selectChild:Ja,selectChildren:es,filter:ts,data:as,enter:is,exit:ss,join:rs,merge:os,selection:Al,order:ls,sort:cs,call:hs,nodes:ds,node:ms,size:ps,empty:us,each:gs,attr:fs,style:xs,property:_s,classed:Cs,text:ws,html:Ss,raise:ks,lower:As,append:Ls,insert:Ds,remove:Fs,clone:Es,datum:Vs,on:Ms,dispatch:Os,[Symbol.iterator]:Bs};var Se=Ps;function oi(e){return typeof e=="string"?new I([[document.querySelector(e)]],[document.documentElement]):new I([[e]],cn)}var Ll={value:()=>{}};function Gs(){for(var e=0,i=arguments.length,t={},n;e<i;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new li(t)}function li(e){this._=e}function Dl(e,i){return e.trim().split(/^|\s+/).map(function(t){var n="",a=t.indexOf(".");if(a>=0&&(n=t.slice(a+1),t=t.slice(0,a)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}li.prototype=Gs.prototype={constructor:li,on:function(e,i){var t=this._,n=Dl(e+"",t),a,s=-1,r=n.length;if(arguments.length<2){for(;++s<r;)if((a=(e=n[s]).type)&&(a=Fl(t[a],e.name)))return a;return}if(i!=null&&typeof i!="function")throw new Error("invalid callback: "+i);for(;++s<r;)if(a=(e=n[s]).type)t[a]=Rs(t[a],e.name,i);else if(i==null)for(a in t)t[a]=Rs(t[a],e.name,null);return this},copy:function(){var e={},i=this._;for(var t in i)e[t]=i[t].slice();return new li(e)},call:function(e,i){if((a=arguments.length-2)>0)for(var t=new Array(a),n=0,a,s;n<a;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(i,t)},apply:function(e,i,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(i,t)}};function Fl(e,i){for(var t=0,n=e.length,a;t<n;++t)if((a=e[t]).name===i)return a.value}function Rs(e,i,t){for(var n=0,a=e.length;n<a;++n)if(e[n].name===i){e[n]=Ll,e=e.slice(0,n).concat(e.slice(n+1));break}return t!=null&&e.push({name:i,value:t}),e}var hn=Gs;function ci(e,i,t){e.prototype=i.prototype=t,t.constructor=e}function dn(e,i){var t=Object.create(e.prototype);for(var n in i)t[n]=i[n];return t}function yt(){}var _t=.7,mi=1/_t,Ke="\\s*([+-]?\\d+)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",El=/^#([0-9a-f]{3,8})$/,Vl=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),Ml=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),Il=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${vt}\\)$`),Ol=new RegExp(`^rgba\\(${xe},${xe},${xe},${vt}\\)$`),Bl=new RegExp(`^hsl\\(${vt},${xe},${xe}\\)$`),Pl=new RegExp(`^hsla\\(${vt},${xe},${xe},${vt}\\)$`),Hs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ci(yt,he,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ns,formatHex:Ns,formatHex8:Rl,formatHsl:Gl,formatRgb:zs,toString:zs});function Ns(){return this.rgb().formatHex()}function Rl(){return this.rgb().formatHex8()}function Gl(){return js(this).formatHsl()}function zs(){return this.rgb().formatRgb()}function he(e){var i,t;return e=(e+"").trim().toLowerCase(),(i=El.exec(e))?(t=i[1].length,i=parseInt(i[1],16),t===6?$s(i):t===3?new ee(i>>8&15|i>>4&240,i>>4&15|i&240,(i&15)<<4|i&15,1):t===8?hi(i>>24&255,i>>16&255,i>>8&255,(i&255)/255):t===4?hi(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|i&240,((i&15)<<4|i&15)/255):null):(i=Vl.exec(e))?new ee(i[1],i[2],i[3],1):(i=Ml.exec(e))?new ee(i[1]*255/100,i[2]*255/100,i[3]*255/100,1):(i=Il.exec(e))?hi(i[1],i[2],i[3],i[4]):(i=Ol.exec(e))?hi(i[1]*255/100,i[2]*255/100,i[3]*255/100,i[4]):(i=Bl.exec(e))?Ws(i[1],i[2]/100,i[3]/100,1):(i=Pl.exec(e))?Ws(i[1],i[2]/100,i[3]/100,i[4]):Hs.hasOwnProperty(e)?$s(Hs[e]):e==="transparent"?new ee(NaN,NaN,NaN,0):null}function $s(e){return new ee(e>>16&255,e>>8&255,e&255,1)}function hi(e,i,t,n){return n<=0&&(e=i=t=NaN),new ee(e,i,t,n)}function Hl(e){return e instanceof yt||(e=he(e)),e?(e=e.rgb(),new ee(e.r,e.g,e.b,e.opacity)):new ee}function Je(e,i,t,n){return arguments.length===1?Hl(e):new ee(e,i,t,n??1)}function ee(e,i,t,n){this.r=+e,this.g=+i,this.b=+t,this.opacity=+n}ci(ee,Je,dn(yt,{brighter(e){return e=e==null?mi:Math.pow(mi,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_t:Math.pow(_t,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ee(Ge(this.r),Ge(this.g),Ge(this.b),pi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xs,formatHex:Xs,formatHex8:Nl,formatRgb:Ys,toString:Ys}));function Xs(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}`}function Nl(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}${Re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ys(){let e=pi(this.opacity);return`${e===1?"rgb(":"rgba("}${Ge(this.r)}, ${Ge(this.g)}, ${Ge(this.b)}${e===1?")":`, ${e})`}`}function pi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ge(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Re(e){return e=Ge(e),(e<16?"0":"")+e.toString(16)}function Ws(e,i,t,n){return n<=0?e=i=t=NaN:t<=0||t>=1?e=i=NaN:i<=0&&(e=NaN),new ce(e,i,t,n)}function js(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof yt||(e=he(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var i=e.r/255,t=e.g/255,n=e.b/255,a=Math.min(i,t,n),s=Math.max(i,t,n),r=NaN,o=s-a,c=(s+a)/2;return o?(i===s?r=(t-n)/o+(t<n)*6:t===s?r=(n-i)/o+2:r=(i-t)/o+4,o/=c<.5?s+a:2-s-a,r*=60):o=c>0&&c<1?0:r,new ce(r,o,c,e.opacity)}function qs(e,i,t,n){return arguments.length===1?js(e):new ce(e,i,t,n??1)}function ce(e,i,t,n){this.h=+e,this.s=+i,this.l=+t,this.opacity=+n}ci(ce,qs,dn(yt,{brighter(e){return e=e==null?mi:Math.pow(mi,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_t:Math.pow(_t,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,i=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*i,a=2*t-n;return new ee(mn(e>=240?e-240:e+120,a,n),mn(e,a,n),mn(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ce(Qs(this.h),di(this.s),di(this.l),pi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=pi(this.opacity);return`${e===1?"hsl(":"hsla("}${Qs(this.h)}, ${di(this.s)*100}%, ${di(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qs(e){return e=(e||0)%360,e<0?e+360:e}function di(e){return Math.max(0,Math.min(1,e||0))}function mn(e,i,t){return(e<60?i+(t-i)*e/60:e<180?t:e<240?i+(t-i)*(240-e)/60:i)*255}function pn(e,i,t,n,a){var s=e*e,r=s*e;return((1-3*e+3*s-r)*i+(4-6*s+3*r)*t+(1+3*e+3*s-3*r)*n+r*a)/6}function Zs(e){var i=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,i-1):Math.floor(t*i),a=e[n],s=e[n+1],r=n>0?e[n-1]:2*a-s,o=n<i-1?e[n+2]:2*s-a;return pn((t-n/i)*i,r,a,s,o)}}function Us(e){var i=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*i),a=e[(n+i-1)%i],s=e[n%i],r=e[(n+1)%i],o=e[(n+2)%i];return pn((t-n/i)*i,a,s,r,o)}}var bt=e=>()=>e;function zl(e,i){return function(t){return e+t*i}}function $l(e,i,t){return e=Math.pow(e,t),i=Math.pow(i,t)-e,t=1/t,function(n){return Math.pow(e+n*i,t)}}function Ks(e){return(e=+e)==1?ui:function(i,t){return t-i?$l(i,t,e):bt(isNaN(i)?t:i)}}function ui(e,i){var t=i-e;return t?zl(e,t):bt(isNaN(e)?i:e)}var He=function e(i){var t=Ks(i);function n(a,s){var r=t((a=Je(a)).r,(s=Je(s)).r),o=t(a.g,s.g),c=t(a.b,s.b),l=ui(a.opacity,s.opacity);return function(h){return a.r=r(h),a.g=o(h),a.b=c(h),a.opacity=l(h),a+""}}return n.gamma=e,n}(1);function Js(e){return function(i){var t=i.length,n=new Array(t),a=new Array(t),s=new Array(t),r,o;for(r=0;r<t;++r)o=Je(i[r]),n[r]=o.r||0,a[r]=o.g||0,s[r]=o.b||0;return n=e(n),a=e(a),s=e(s),o.opacity=1,function(c){return o.r=n(c),o.g=a(c),o.b=s(c),o+""}}}var Xl=Js(Zs),Yl=Js(Us);function er(e,i){i||(i=[]);var t=e?Math.min(i.length,e.length):0,n=i.slice(),a;return function(s){for(a=0;a<t;++a)n[a]=e[a]*(1-s)+i[a]*s;return n}}function tr(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ir(e,i){var t=i?i.length:0,n=e?Math.min(t,e.length):0,a=new Array(n),s=new Array(t),r;for(r=0;r<n;++r)a[r]=de(e[r],i[r]);for(;r<t;++r)s[r]=i[r];return function(o){for(r=0;r<n;++r)s[r]=a[r](o);return s}}function nr(e,i){var t=new Date;return e=+e,i=+i,function(n){return t.setTime(e*(1-n)+i*n),t}}function z(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}function ar(e,i){var t={},n={},a;(e===null||typeof e!="object")&&(e={}),(i===null||typeof i!="object")&&(i={});for(a in i)a in e?t[a]=de(e[a],i[a]):n[a]=i[a];return function(s){for(a in t)n[a]=t[a](s);return n}}var gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,un=new RegExp(gn.source,"g");function Wl(e){return function(){return e}}function Ql(e){return function(i){return e(i)+""}}function Tt(e,i){var t=gn.lastIndex=un.lastIndex=0,n,a,s,r=-1,o=[],c=[];for(e=e+"",i=i+"";(n=gn.exec(e))&&(a=un.exec(i));)(s=a.index)>t&&(s=i.slice(t,s),o[r]?o[r]+=s:o[++r]=s),(n=n[0])===(a=a[0])?o[r]?o[r]+=a:o[++r]=a:(o[++r]=null,c.push({i:r,x:z(n,a)})),t=un.lastIndex;return t<i.length&&(s=i.slice(t),o[r]?o[r]+=s:o[++r]=s),o.length<2?c[0]?Ql(c[0].x):Wl(i):(i=c.length,function(l){for(var h=0,m;h<i;++h)o[(m=c[h]).i]=m.x(l);return o.join("")})}function de(e,i){var t=typeof i,n;return i==null||t==="boolean"?bt(i):(t==="number"?z:t==="string"?(n=he(i))?(i=n,He):Tt:i instanceof he?He:i instanceof Date?nr:tr(i)?er:Array.isArray(i)?ir:typeof i.valueOf!="function"&&typeof i.toString!="function"||isNaN(i)?ar:z)(e,i)}function fn(e,i){return e=+e,i=+i,function(t){return Math.round(e*(1-t)+i*t)}}var sr=180/Math.PI,gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xn(e,i,t,n,a,s){var r,o,c;return(r=Math.sqrt(e*e+i*i))&&(e/=r,i/=r),(c=e*t+i*n)&&(t-=e*c,n-=i*c),(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o,c/=o),e*n<i*t&&(e=-e,i=-i,c=-c,r=-r),{translateX:a,translateY:s,rotate:Math.atan2(i,e)*sr,skewX:Math.atan(c)*sr,scaleX:r,scaleY:o}}var fi;function rr(e){let i=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?gi:xn(i.a,i.b,i.c,i.d,i.e,i.f)}function or(e){return e==null?gi:(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",e),(e=fi.transform.baseVal.consolidate())?(e=e.matrix,xn(e.a,e.b,e.c,e.d,e.e,e.f)):gi)}function lr(e,i,t,n){function a(l){return l.length?l.pop()+" ":""}function s(l,h,m,d,p,u){if(l!==m||h!==d){var g=p.push("translate(",null,i,null,t);u.push({i:g-4,x:z(l,m)},{i:g-2,x:z(h,d)})}else(m||d)&&p.push("translate("+m+i+d+t)}function r(l,h,m,d){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),d.push({i:m.push(a(m)+"rotate(",null,n)-2,x:z(l,h)})):h&&m.push(a(m)+"rotate("+h+n)}function o(l,h,m,d){l!==h?d.push({i:m.push(a(m)+"skewX(",null,n)-2,x:z(l,h)}):h&&m.push(a(m)+"skewX("+h+n)}function c(l,h,m,d,p,u){if(l!==m||h!==d){var g=p.push(a(p)+"scale(",null,",",null,")");u.push({i:g-4,x:z(l,m)},{i:g-2,x:z(h,d)})}else(m!==1||d!==1)&&p.push(a(p)+"scale("+m+","+d+")")}return function(l,h){var m=[],d=[];return l=e(l),h=e(h),s(l.translateX,l.translateY,h.translateX,h.translateY,m,d),r(l.rotate,h.rotate,m,d),o(l.skewX,h.skewX,m,d),c(l.scaleX,l.scaleY,h.scaleX,h.scaleY,m,d),l=h=null,function(p){for(var u=-1,g=d.length,w;++u<g;)m[(w=d[u]).i]=w.x(p);return m.join("")}}}var _n=lr(rr,"px, ","px)","deg)"),vn=lr(or,", ",")",")");var et=0,wt=0,Ct=0,hr=1e3,xi,St,_i=0,Ne=0,vi=0,kt=typeof performance=="object"&&performance.now?performance:Date,dr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Lt(){return Ne||(dr(jl),Ne=kt.now()+vi)}function jl(){Ne=0}function At(){this._call=this._time=this._next=null}At.prototype=yi.prototype={constructor:At,restart:function(e,i,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Lt():+t)+(i==null?0:+i),!this._next&&St!==this&&(St?St._next=this:xi=this,St=this),this._call=e,this._time=t,yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,yn())}};function yi(e,i,t){var n=new At;return n.restart(e,i,t),n}function mr(){Lt(),++et;for(var e=xi,i;e;)(i=Ne-e._time)>=0&&e._call.call(void 0,i),e=e._next;--et}function cr(){Ne=(_i=kt.now())+vi,et=wt=0;try{mr()}finally{et=0,Zl(),Ne=0}}function ql(){var e=kt.now(),i=e-_i;i>hr&&(vi-=i,_i=e)}function Zl(){for(var e,i=xi,t,n=1/0;i;)i._call?(n>i._time&&(n=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:xi=t);St=e,yn(n)}function yn(e){if(!et){wt&&(wt=clearTimeout(wt));var i=e-Ne;i>24?(e<1/0&&(wt=setTimeout(cr,e-kt.now()-vi)),Ct&&(Ct=clearInterval(Ct))):(Ct||(_i=kt.now(),Ct=setInterval(ql,hr)),et=1,dr(cr))}}function bi(e,i,t){var n=new At;return i=i==null?0:+i,n.restart(a=>{n.stop(),e(a+i)},i,t),n}var Ul=hn("start","end","cancel","interrupt"),Kl=[],gr=0,pr=1,Ci=2,Ti=3,ur=4,wi=5,Dt=6;function De(e,i,t,n,a,s){var r=e.__transition;if(!r)e.__transition={};else if(t in r)return;Jl(e,t,{name:i,index:n,group:a,on:Ul,tween:Kl,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gr})}function Ft(e,i){var t=G(e,i);if(t.state>gr)throw new Error("too late; already scheduled");return t}function $(e,i){var t=G(e,i);if(t.state>Ti)throw new Error("too late; already running");return t}function G(e,i){var t=e.__transition;if(!t||!(t=t[i]))throw new Error("transition not found");return t}function Jl(e,i,t){var n=e.__transition,a;n[i]=t,t.timer=yi(s,0,t.time);function s(l){t.state=pr,t.timer.restart(r,t.delay,t.time),t.delay<=l&&r(l-t.delay)}function r(l){var h,m,d,p;if(t.state!==pr)return c();for(h in n)if(p=n[h],p.name===t.name){if(p.state===Ti)return bi(r);p.state===ur?(p.state=Dt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[h]):+h<i&&(p.state=Dt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[h])}if(bi(function(){t.state===Ti&&(t.state=ur,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Ci,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ci){for(t.state=Ti,a=new Array(d=t.tween.length),h=0,m=-1;h<d;++h)(p=t.tween[h].value.call(e,e.__data__,t.index,t.group))&&(a[++m]=p);a.length=m+1}}function o(l){for(var h=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(c),t.state=wi,1),m=-1,d=a.length;++m<d;)a[m].call(e,h);t.state===wi&&(t.on.call("end",e,e.__data__,t.index,t.group),c())}function c(){t.state=Dt,t.timer.stop(),delete n[i];for(var l in n)return;delete e.__transition}}function bn(e,i){var t=e.__transition,n,a,s=!0,r;if(t){i=i==null?null:i+"";for(r in t){if((n=t[r]).name!==i){s=!1;continue}a=n.state>Ci&&n.state<wi,n.state=Dt,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete t[r]}s&&delete e.__transition}}function fr(e){return this.each(function(){bn(this,e)})}function ec(e,i){var t,n;return function(){var a=$(this,e),s=a.tween;if(s!==t){n=t=s;for(var r=0,o=n.length;r<o;++r)if(n[r].name===i){n=n.slice(),n.splice(r,1);break}}a.tween=n}}function tc(e,i,t){var n,a;if(typeof t!="function")throw new Error;return function(){var s=$(this,e),r=s.tween;if(r!==n){a=(n=r).slice();for(var o={name:i,value:t},c=0,l=a.length;c<l;++c)if(a[c].name===i){a[c]=o;break}c===l&&a.push(o)}s.tween=a}}function xr(e,i){var t=this._id;if(e+="",arguments.length<2){for(var n=G(this.node(),t).tween,a=0,s=n.length,r;a<s;++a)if((r=n[a]).name===e)return r.value;return null}return this.each((i==null?ec:tc)(t,e,i))}function tt(e,i,t){var n=e._id;return e.each(function(){var a=$(this,n);(a.value||(a.value={}))[i]=t.apply(this,arguments)}),function(a){return G(a,n).value[i]}}function Si(e,i){var t;return(typeof i=="number"?z:i instanceof he?He:(t=he(i))?(i=t,He):Tt)(e,i)}function ic(e){return function(){this.removeAttribute(e)}}function nc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ac(e,i,t){var n,a=t+"",s;return function(){var r=this.getAttribute(e);return r===a?null:r===n?s:s=i(n=r,t)}}function sc(e,i,t){var n,a=t+"",s;return function(){var r=this.getAttributeNS(e.space,e.local);return r===a?null:r===n?s:s=i(n=r,t)}}function rc(e,i,t){var n,a,s;return function(){var r,o=t(this),c;return o==null?void this.removeAttribute(e):(r=this.getAttribute(e),c=o+"",r===c?null:r===n&&c===a?s:(a=c,s=i(n=r,o)))}}function oc(e,i,t){var n,a,s;return function(){var r,o=t(this),c;return o==null?void this.removeAttributeNS(e.space,e.local):(r=this.getAttributeNS(e.space,e.local),c=o+"",r===c?null:r===n&&c===a?s:(a=c,s=i(n=r,o)))}}function _r(e,i){var t=we(e),n=t==="transform"?vn:Si;return this.attrTween(e,typeof i=="function"?(t.local?oc:rc)(t,n,tt(this,"attr."+e,i)):i==null?(t.local?nc:ic)(t):(t.local?sc:ac)(t,n,i))}function lc(e,i){return function(t){this.setAttribute(e,i.call(this,t))}}function cc(e,i){return function(t){this.setAttributeNS(e.space,e.local,i.call(this,t))}}function hc(e,i){var t,n;function a(){var s=i.apply(this,arguments);return s!==n&&(t=(n=s)&&cc(e,s)),t}return a._value=i,a}function dc(e,i){var t,n;function a(){var s=i.apply(this,arguments);return s!==n&&(t=(n=s)&&lc(e,s)),t}return a._value=i,a}function vr(e,i){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(i==null)return this.tween(t,null);if(typeof i!="function")throw new Error;var n=we(e);return this.tween(t,(n.local?hc:dc)(n,i))}function mc(e,i){return function(){Ft(this,e).delay=+i.apply(this,arguments)}}function pc(e,i){return i=+i,function(){Ft(this,e).delay=i}}function yr(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?mc:pc)(i,e)):G(this.node(),i).delay}function uc(e,i){return function(){$(this,e).duration=+i.apply(this,arguments)}}function gc(e,i){return i=+i,function(){$(this,e).duration=i}}function br(e){var i=this._id;return arguments.length?this.each((typeof e=="function"?uc:gc)(i,e)):G(this.node(),i).duration}function fc(e,i){if(typeof i!="function")throw new Error;return function(){$(this,e).ease=i}}function Tr(e){var i=this._id;return arguments.length?this.each(fc(i,e)):G(this.node(),i).ease}function xc(e,i){return function(){var t=i.apply(this,arguments);if(typeof t!="function")throw new Error;$(this,e).ease=t}}function Cr(e){if(typeof e!="function")throw new Error;return this.each(xc(this._id,e))}function wr(e){typeof e!="function"&&(e=ft(e));for(var i=this._groups,t=i.length,n=new Array(t),a=0;a<t;++a)for(var s=i[a],r=s.length,o=n[a]=[],c,l=0;l<r;++l)(c=s[l])&&e.call(c,c.__data__,l,s)&&o.push(c);return new Z(n,this._parents,this._name,this._id)}function Sr(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,t=e._groups,n=i.length,a=t.length,s=Math.min(n,a),r=new Array(n),o=0;o<s;++o)for(var c=i[o],l=t[o],h=c.length,m=r[o]=new Array(h),d,p=0;p<h;++p)(d=c[p]||l[p])&&(m[p]=d);for(;o<n;++o)r[o]=i[o];return new Z(r,this._parents,this._name,this._id)}function _c(e){return(e+"").trim().split(/^|\s+/).every(function(i){var t=i.indexOf(".");return t>=0&&(i=i.slice(0,t)),!i||i==="start"})}function vc(e,i,t){var n,a,s=_c(i)?Ft:$;return function(){var r=s(this,e),o=r.on;o!==n&&(a=(n=o).copy()).on(i,t),r.on=a}}function kr(e,i){var t=this._id;return arguments.length<2?G(this.node(),t).on.on(e):this.each(vc(t,e,i))}function yc(e){return function(){var i=this.parentNode;for(var t in this.__transition)if(+t!==e)return;i&&i.removeChild(this)}}function Ar(){return this.on("end.remove",yc(this._id))}function Lr(e){var i=this._name,t=this._id;typeof e!="function"&&(e=Pe(e));for(var n=this._groups,a=n.length,s=new Array(a),r=0;r<a;++r)for(var o=n[r],c=o.length,l=s[r]=new Array(c),h,m,d=0;d<c;++d)(h=o[d])&&(m=e.call(h,h.__data__,d,o))&&("__data__"in h&&(m.__data__=h.__data__),l[d]=m,De(l[d],i,t,d,l,G(h,t)));return new Z(s,this._parents,i,t)}function Dr(e){var i=this._name,t=this._id;typeof e!="function"&&(e=gt(e));for(var n=this._groups,a=n.length,s=[],r=[],o=0;o<a;++o)for(var c=n[o],l=c.length,h,m=0;m<l;++m)if(h=c[m]){for(var d=e.call(h,h.__data__,m,c),p,u=G(h,t),g=0,w=d.length;g<w;++g)(p=d[g])&&De(p,i,t,g,d,u);s.push(d),r.push(h)}return new Z(s,r,i,t)}var bc=Se.prototype.constructor;function Fr(){return new bc(this._groups,this._parents)}function Tc(e,i){var t,n,a;return function(){var s=Le(this,e),r=(this.style.removeProperty(e),Le(this,e));return s===r?null:s===t&&r===n?a:a=i(t=s,n=r)}}function Er(e){return function(){this.style.removeProperty(e)}}function Cc(e,i,t){var n,a=t+"",s;return function(){var r=Le(this,e);return r===a?null:r===n?s:s=i(n=r,t)}}function wc(e,i,t){var n,a,s;return function(){var r=Le(this,e),o=t(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(e),Le(this,e))),r===c?null:r===n&&c===a?s:(a=c,s=i(n=r,o))}}function Sc(e,i){var t,n,a,s="style."+i,r="end."+s,o;return function(){var c=$(this,e),l=c.on,h=c.value[s]==null?o||(o=Er(i)):void 0;(l!==t||a!==h)&&(n=(t=l).copy()).on(r,a=h),c.on=n}}function Vr(e,i,t){var n=(e+="")=="transform"?_n:Si;return i==null?this.styleTween(e,Tc(e,n)).on("end.style."+e,Er(e)):typeof i=="function"?this.styleTween(e,wc(e,n,tt(this,"style."+e,i))).each(Sc(this._id,e)):this.styleTween(e,Cc(e,n,i),t).on("end.style."+e,null)}function kc(e,i,t){return function(n){this.style.setProperty(e,i.call(this,n),t)}}function Ac(e,i,t){var n,a;function s(){var r=i.apply(this,arguments);return r!==a&&(n=(a=r)&&kc(e,r,t)),n}return s._value=i,s}function Mr(e,i,t){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(i==null)return this.tween(n,null);if(typeof i!="function")throw new Error;return this.tween(n,Ac(e,i,t??""))}function Lc(e){return function(){this.textContent=e}}function Dc(e){return function(){var i=e(this);this.textContent=i??""}}function Ir(e){return this.tween("text",typeof e=="function"?Dc(tt(this,"text",e)):Lc(e==null?"":e+""))}function Fc(e){return function(i){this.textContent=e.call(this,i)}}function Ec(e){var i,t;function n(){var a=e.apply(this,arguments);return a!==t&&(i=(t=a)&&Fc(a)),i}return n._value=e,n}function Or(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ec(e))}function Br(){for(var e=this._name,i=this._id,t=ki(),n=this._groups,a=n.length,s=0;s<a;++s)for(var r=n[s],o=r.length,c,l=0;l<o;++l)if(c=r[l]){var h=G(c,i);De(c,e,t,l,r,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Z(n,this._parents,e,t)}function Pr(){var e,i,t=this,n=t._id,a=t.size();return new Promise(function(s,r){var o={value:r},c={value:function(){--a===0&&s()}};t.each(function(){var l=$(this,n),h=l.on;h!==e&&(i=(e=h).copy(),i._.cancel.push(o),i._.interrupt.push(o),i._.end.push(c)),l.on=i}),a===0&&s()})}var Vc=0;function Z(e,i,t,n){this._groups=e,this._parents=i,this._name=t,this._id=n}function Rr(e){return Se().transition(e)}function ki(){return++Vc}var ke=Se.prototype;Z.prototype=Rr.prototype={constructor:Z,select:Lr,selectAll:Dr,selectChild:ke.selectChild,selectChildren:ke.selectChildren,filter:wr,merge:Sr,selection:Fr,transition:Br,call:ke.call,nodes:ke.nodes,node:ke.node,size:ke.size,empty:ke.empty,each:ke.each,on:kr,attr:_r,attrTween:vr,style:Vr,styleTween:Mr,text:Ir,textTween:Or,remove:Ar,tween:xr,delay:yr,duration:br,ease:Tr,easeVarying:Cr,end:Pr,[Symbol.iterator]:ke[Symbol.iterator]};function Ai(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Mc={time:null,delay:0,duration:250,ease:Ai};function Ic(e,i){for(var t;!(t=e.__transition)||!(t=t[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return t}function Gr(e){var i,t;e instanceof Z?(i=e._id,e=e._name):(i=ki(),(t=Mc).time=Lt(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var r=n[s],o=r.length,c,l=0;l<o;++l)(c=r[l])&&De(c,e,i,l,r,t||Ic(c,i));return new Z(n,this._parents,e,i)}Se.prototype.interrupt=fr;Se.prototype.transition=Gr;var{abs:Vf,max:Mf,min:If}=Math;function Hr(e){return[+e[0],+e[1]]}function Oc(e){return[Hr(e[0]),Hr(e[1])]}var Of={name:"x",handles:["w","e"].map(Tn),input:function(e,i){return e==null?null:[[+e[0],i[0][1]],[+e[1],i[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Bf={name:"y",handles:["n","s"].map(Tn),input:function(e,i){return e==null?null:[[i[0][0],+e[0]],[i[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Pf={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Tn),input:function(e){return e==null?null:Oc(e)},output:function(e){return e}};function Tn(e){return{type:e}}function _e(e,i){return e==null||i==null?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function Cn(e,i){return e==null||i==null?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function Li(e){let i,t,n;e.length!==2?(i=_e,t=(o,c)=>_e(e(o),c),n=(o,c)=>e(o)-c):(i=e===_e||e===Cn?e:Pc,t=e,n=e);function a(o,c,l=0,h=o.length){if(l<h){if(i(c,c)!==0)return h;do{let m=l+h>>>1;t(o[m],c)<0?l=m+1:h=m}while(l<h)}return l}function s(o,c,l=0,h=o.length){if(l<h){if(i(c,c)!==0)return h;do{let m=l+h>>>1;t(o[m],c)<=0?l=m+1:h=m}while(l<h)}return l}function r(o,c,l=0,h=o.length){let m=a(o,c,l,h-1);return m>l&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:a,center:r,right:s}}function Pc(){return 0}function Et(e){return e===null?NaN:+e}var Nr=Li(_e),zr=Nr.right,Rc=Nr.left,Gc=Li(Et).center,Vt=zr;var it=class extends Map{constructor(i,t=zc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),i!=null)for(let[n,a]of i)this.set(n,a)}get(i){return super.get($r(this,i))}has(i){return super.has($r(this,i))}set(i,t){return super.set(Hc(this,i),t)}delete(i){return super.delete(Nc(this,i))}};function $r({_intern:e,_key:i},t){let n=i(t);return e.has(n)?e.get(n):t}function Hc({_intern:e,_key:i},t){let n=i(t);return e.has(n)?e.get(n):(e.set(n,t),t)}function Nc({_intern:e,_key:i},t){let n=i(t);return e.has(n)&&(t=e.get(n),e.delete(n)),t}function zc(e){return e!==null&&typeof e=="object"?e.valueOf():e}var $c=Math.sqrt(50),Xc=Math.sqrt(10),Yc=Math.sqrt(2);function Di(e,i,t){let n=(i-e)/Math.max(0,t),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),r=s>=$c?10:s>=Xc?5:s>=Yc?2:1,o,c,l;return a<0?(l=Math.pow(10,-a)/r,o=Math.round(e*l),c=Math.round(i*l),o/l<e&&++o,c/l>i&&--c,l=-l):(l=Math.pow(10,a)*r,o=Math.round(e/l),c=Math.round(i/l),o*l<e&&++o,c*l>i&&--c),c<o&&.5<=t&&t<2?Di(e,i,t*2):[o,c,l]}function Fi(e,i,t){if(i=+i,e=+e,t=+t,!(t>0))return[];if(e===i)return[e];let n=i<e,[a,s,r]=n?Di(i,e,t):Di(e,i,t);if(!(s>=a))return[];let o=s-a+1,c=new Array(o);if(n)if(r<0)for(let l=0;l<o;++l)c[l]=(s-l)/-r;else for(let l=0;l<o;++l)c[l]=(s-l)*r;else if(r<0)for(let l=0;l<o;++l)c[l]=(a+l)/-r;else for(let l=0;l<o;++l)c[l]=(a+l)*r;return c}function Mt(e,i,t){return i=+i,e=+e,t=+t,Di(e,i,t)[2]}function wn(e,i,t){i=+i,e=+e,t=+t;let n=i<e,a=n?Mt(i,e,t):Mt(e,i,t);return(n?-1:1)*(a<0?1/-a:a)}function Ei(e,i){let t;if(i===void 0)for(let n of e)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);else{let n=-1;for(let a of e)(a=i(a,++n,e))!=null&&(t<a||t===void 0&&a>=a)&&(t=a)}return t}function Sn(e,i,t=Et){if(!(!(n=e.length)||isNaN(i=+i))){if(i<=0||n<2)return+t(e[0],0,e);if(i>=1)return+t(e[n-1],n-1,e);var n,a=(n-1)*i,s=Math.floor(a),r=+t(e[s],s,e),o=+t(e[s+1],s+1,e);return r+(o-r)*(a-s)}}function nt(e,i,t){e=+e,i=+i,t=(a=arguments.length)<2?(i=e,e=0,1):a<3?1:+t;for(var n=-1,a=Math.max(0,Math.ceil((i-e)/t))|0,s=new Array(a);++n<a;)s[n]=e+n*t;return s}function Fe(e,i){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(i).domain(e);break}return this}var kn=Symbol("implicit");function ze(){var e=new it,i=[],t=[],n=kn;function a(s){let r=e.get(s);if(r===void 0){if(n!==kn)return n;e.set(s,r=i.push(s)-1)}return t[r%t.length]}return a.domain=function(s){if(!arguments.length)return i.slice();i=[],e=new it;for(let r of s)e.has(r)||e.set(r,i.push(r)-1);return a},a.range=function(s){return arguments.length?(t=Array.from(s),a):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ze(i,t).unknown(n)},Fe.apply(a,arguments),a}function It(){var e=ze().unknown(void 0),i=e.domain,t=e.range,n=0,a=1,s,r,o=!1,c=0,l=0,h=.5;delete e.unknown;function m(){var d=i().length,p=a<n,u=p?a:n,g=p?n:a;s=(g-u)/Math.max(1,d-c+l*2),o&&(s=Math.floor(s)),u+=(g-u-s*(d-c))*h,r=s*(1-c),o&&(u=Math.round(u),r=Math.round(r));var w=nt(d).map(function(b){return u+s*b});return t(p?w.reverse():w)}return e.domain=function(d){return arguments.length?(i(d),m()):i()},e.range=function(d){return arguments.length?([n,a]=d,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(d){return[n,a]=d,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return r},e.step=function(){return s},e.round=function(d){return arguments.length?(o=!!d,m()):o},e.padding=function(d){return arguments.length?(c=Math.min(1,l=+d),m()):c},e.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),m()):c},e.paddingOuter=function(d){return arguments.length?(l=+d,m()):l},e.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),m()):h},e.copy=function(){return It(i(),[n,a]).round(o).paddingInner(c).paddingOuter(l).align(h)},Fe.apply(m(),arguments)}function An(e){return function(){return e}}function Ln(e){return+e}var Xr=[0,1];function at(e){return e}function Dn(e,i){return(i-=e=+e)?function(t){return(t-e)/i}:An(isNaN(i)?NaN:.5)}function Qc(e,i){var t;return e>i&&(t=e,e=i,i=t),function(n){return Math.max(e,Math.min(i,n))}}function jc(e,i,t){var n=e[0],a=e[1],s=i[0],r=i[1];return a<n?(n=Dn(a,n),s=t(r,s)):(n=Dn(n,a),s=t(s,r)),function(o){return s(n(o))}}function qc(e,i,t){var n=Math.min(e.length,i.length)-1,a=new Array(n),s=new Array(n),r=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),i=i.slice().reverse());++r<n;)a[r]=Dn(e[r],e[r+1]),s[r]=t(i[r],i[r+1]);return function(o){var c=Vt(e,o,1,n)-1;return s[c](a[c](o))}}function Yr(e,i){return i.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zc(){var e=Xr,i=Xr,t=de,n,a,s,r=at,o,c,l;function h(){var d=Math.min(e.length,i.length);return r!==at&&(r=Qc(e[0],e[d-1])),o=d>2?qc:jc,c=l=null,m}function m(d){return d==null||isNaN(d=+d)?s:(c||(c=o(e.map(n),i,t)))(n(r(d)))}return m.invert=function(d){return r(a((l||(l=o(i,e.map(n),z)))(d)))},m.domain=function(d){return arguments.length?(e=Array.from(d,Ln),h()):e.slice()},m.range=function(d){return arguments.length?(i=Array.from(d),h()):i.slice()},m.rangeRound=function(d){return i=Array.from(d),t=fn,h()},m.clamp=function(d){return arguments.length?(r=d?!0:at,h()):r!==at},m.interpolate=function(d){return arguments.length?(t=d,h()):t},m.unknown=function(d){return arguments.length?(s=d,m):s},function(d,p){return n=d,a=p,h()}}function Fn(){return Zc()(at,at)}function Wr(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $e(e,i){if((t=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function ve(e){return e=$e(Math.abs(e)),e?e[1]:NaN}function Qr(e,i){return function(t,n){for(var a=t.length,s=[],r=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),s.push(t.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[r=(r+1)%e.length];return s.reverse().join(i)}}function jr(e){return function(i){return i.replace(/[0-9]/g,function(t){return e[+t]})}}var Uc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ee(e){if(!(i=Uc.exec(e)))throw new Error("invalid format: "+e);var i;return new Vi({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}Ee.prototype=Vi.prototype;function Vi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qr(e){e:for(var i=e.length,t=1,n=-1,a;t<i;++t)switch(e[t]){case".":n=a=t;break;case"0":n===0&&(n=t),a=t;break;default:if(!+e[t])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var En;function Zr(e,i){var t=$e(e,i);if(!t)return e+"";var n=t[0],a=t[1],s=a-(En=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,r=n.length;return s===r?n:s>r?n+new Array(s-r+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+$e(e,Math.max(0,i+s-1))[0]}function Vn(e,i){var t=$e(e,i);if(!t)return e+"";var n=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}var Mn={"%":(e,i)=>(e*100).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wr,e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>Vn(e*100,i),r:Vn,s:Zr,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function In(e){return e}var Ur=Array.prototype.map,Kr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Jr(e){var i=e.grouping===void 0||e.thousands===void 0?In:Qr(Ur.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?In:jr(Ur.call(e.numerals,String)),r=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(m){m=Ee(m);var d=m.fill,p=m.align,u=m.sign,g=m.symbol,w=m.zero,b=m.width,D=m.comma,k=m.precision,F=m.trim,S=m.type;S==="n"?(D=!0,S="g"):Mn[S]||(k===void 0&&(k=12),F=!0,S="g"),(w||d==="0"&&p==="=")&&(w=!0,d="0",p="=");var W=g==="$"?t:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",pe=g==="$"?n:/[%p]/.test(S)?r:"",ae=Mn[S],ue=/[defgprs%]/.test(S);k=k===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function te(v){var B=W,f=pe,T,ge,ye;if(S==="c")f=ae(v)+f,v="";else{v=+v;var se=v<0||1/v<0;if(v=isNaN(v)?c:ae(Math.abs(v),k),F&&(v=qr(v)),se&&+v==0&&u!=="+"&&(se=!1),B=(se?u==="("?u:o:u==="-"||u==="("?"":u)+B,f=(S==="s"?Kr[8+En/3]:"")+f+(se&&u==="("?")":""),ue){for(T=-1,ge=v.length;++T<ge;)if(ye=v.charCodeAt(T),48>ye||ye>57){f=(ye===46?a+v.slice(T+1):v.slice(T))+f,v=v.slice(0,T);break}}}D&&!w&&(v=i(v,1/0));var re=B.length+v.length+f.length,K=re<b?new Array(b-re+1).join(d):"";switch(D&&w&&(v=i(K+v,K.length?b-f.length:1/0),K=""),p){case"<":v=B+v+f+K;break;case"=":v=B+K+v+f;break;case"^":v=K.slice(0,re=K.length>>1)+B+v+f+K.slice(re);break;default:v=K+B+v+f;break}return s(v)}return te.toString=function(){return m+""},te}function h(m,d){var p=l((m=Ee(m),m.type="f",m)),u=Math.max(-8,Math.min(8,Math.floor(ve(d)/3)))*3,g=Math.pow(10,-u),w=Kr[8+u/3];return function(b){return p(g*b)+w}}return{format:l,formatPrefix:h}}var Mi,Ii,Oi;On({thousands:",",grouping:[3],currency:["$",""]});function On(e){return Mi=Jr(e),Ii=Mi.format,Oi=Mi.formatPrefix,Mi}function Bn(e){return Math.max(0,-ve(Math.abs(e)))}function Pn(e,i){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ve(i)/3)))*3-ve(Math.abs(e)))}function Rn(e,i){return e=Math.abs(e),i=Math.abs(i)-e,Math.max(0,ve(i)-ve(e))+1}function Gn(e,i,t,n){var a=wn(e,i,t),s;switch(n=Ee(n??",f"),n.type){case"s":{var r=Math.max(Math.abs(e),Math.abs(i));return n.precision==null&&!isNaN(s=Pn(a,r))&&(n.precision=s),Oi(n,r)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Rn(a,Math.max(Math.abs(e),Math.abs(i))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Bn(a))&&(n.precision=s-(n.type==="%")*2);break}}return Ii(n)}function Kc(e){var i=e.domain;return e.ticks=function(t){var n=i();return Fi(n[0],n[n.length-1],t??10)},e.tickFormat=function(t,n){var a=i();return Gn(a[0],a[a.length-1],t??10,n)},e.nice=function(t){t==null&&(t=10);var n=i(),a=0,s=n.length-1,r=n[a],o=n[s],c,l,h=10;for(o<r&&(l=r,r=o,o=l,l=a,a=s,s=l);h-- >0;){if(l=Mt(r,o,t),l===c)return n[a]=r,n[s]=o,i(n);if(l>0)r=Math.floor(r/l)*l,o=Math.ceil(o/l)*l;else if(l<0)r=Math.ceil(r*l)/l,o=Math.floor(o*l)/l;else break;c=l}return e},e}function Xe(){var e=Fn();return e.copy=function(){return Yr(e,Xe())},Fe.apply(e,arguments),Kc(e)}function Ot(){var e=[],i=[],t=[],n;function a(){var r=0,o=Math.max(1,i.length);for(t=new Array(o-1);++r<o;)t[r-1]=Sn(e,r/o);return s}function s(r){return r==null||isNaN(r=+r)?n:i[Vt(t,r)]}return s.invertExtent=function(r){var o=i.indexOf(r);return o<0?[NaN,NaN]:[o>0?t[o-1]:e[0],o<t.length?t[o]:e[e.length-1]]},s.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(_e),a()},s.range=function(r){return arguments.length?(i=Array.from(r),a()):i.slice()},s.unknown=function(r){return arguments.length?(n=r,s):n},s.quantiles=function(){return t.slice()},s.copy=function(){return Ot().domain(e).range(i).unknown(n)},Fe.apply(s,arguments)}function X(e){return function(){return e}}var Hn=Math.abs,Y=Math.atan2,Ve=Math.cos,eo=Math.max,Bi=Math.min,me=Math.sin,Ye=Math.sqrt,U=1e-12,st=Math.PI,Bt=st/2,rt=2*st;function to(e){return e>1?0:e<-1?st:Math.acos(e)}function Nn(e){return e>=1?Bt:e<=-1?-Bt:Math.asin(e)}var zn=Math.PI,$n=2*zn,We=1e-6,eh=$n-We;function io(e){this._+=e[0];for(let i=1,t=e.length;i<t;++i)this._+=arguments[i]+e[i]}function th(e){let i=Math.floor(e);if(!(i>=0))throw new Error(`invalid digits: ${e}`);if(i>15)return io;let t=10**i;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*t)/t+n[a]}}var Qe=class{constructor(i){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=i==null?io:th(i)}moveTo(i,t){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(i,t){this._append`L${this._x1=+i},${this._y1=+t}`}quadraticCurveTo(i,t,n,a){this._append`Q${+i},${+t},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(i,t,n,a,s,r){this._append`C${+i},${+t},${+n},${+a},${this._x1=+s},${this._y1=+r}`}arcTo(i,t,n,a,s){if(i=+i,t=+t,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let r=this._x1,o=this._y1,c=n-i,l=a-t,h=r-i,m=o-t,d=h*h+m*m;if(this._x1===null)this._append`M${this._x1=i},${this._y1=t}`;else if(d>We)if(!(Math.abs(m*c-l*h)>We)||!s)this._append`L${this._x1=i},${this._y1=t}`;else{let p=n-r,u=a-o,g=c*c+l*l,w=p*p+u*u,b=Math.sqrt(g),D=Math.sqrt(d),k=s*Math.tan((zn-Math.acos((g+d-w)/(2*b*D)))/2),F=k/D,S=k/b;Math.abs(F-1)>We&&this._append`L${i+F*h},${t+F*m}`,this._append`A${s},${s},0,0,${+(m*p>h*u)},${this._x1=i+S*c},${this._y1=t+S*l}`}}arc(i,t,n,a,s,r){if(i=+i,t=+t,n=+n,r=!!r,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),l=i+o,h=t+c,m=1^r,d=r?a-s:s-a;this._x1===null?this._append`M${l},${h}`:(Math.abs(this._x1-l)>We||Math.abs(this._y1-h)>We)&&this._append`L${l},${h}`,n&&(d<0&&(d=d%$n+$n),d>eh?this._append`A${n},${n},0,1,${m},${i-o},${t-c}A${n},${n},0,1,${m},${this._x1=l},${this._y1=h}`:d>We&&this._append`A${n},${n},0,${+(d>=zn)},${m},${this._x1=i+n*Math.cos(s)},${this._y1=t+n*Math.sin(s)}`)}rect(i,t,n,a){this._append`M${this._x0=this._x1=+i},${this._y0=this._y1=+t}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}};function no(){return new Qe}no.prototype=Qe.prototype;function ao(e){let i=3;return e.digits=function(t){if(!arguments.length)return i;if(t==null)i=null;else{let n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);i=n}return e},()=>new Qe(i)}function ih(e){return e.innerRadius}function nh(e){return e.outerRadius}function ah(e){return e.startAngle}function sh(e){return e.endAngle}function rh(e){return e&&e.padAngle}function oh(e,i,t,n,a,s,r,o){var c=t-e,l=n-i,h=r-a,m=o-s,d=m*c-h*l;if(!(d*d<U))return d=(h*(i-s)-m*(e-a))/d,[e+d*c,i+d*l]}function Pi(e,i,t,n,a,s,r){var o=e-t,c=i-n,l=(r?s:-s)/Ye(o*o+c*c),h=l*c,m=-l*o,d=e+h,p=i+m,u=t+h,g=n+m,w=(d+u)/2,b=(p+g)/2,D=u-d,k=g-p,F=D*D+k*k,S=a-s,W=d*g-u*p,pe=(k<0?-1:1)*Ye(eo(0,S*S*F-W*W)),ae=(W*k-D*pe)/F,ue=(-W*D-k*pe)/F,te=(W*k+D*pe)/F,v=(-W*D+k*pe)/F,B=ae-w,f=ue-b,T=te-w,ge=v-b;return B*B+f*f>T*T+ge*ge&&(ae=te,ue=v),{cx:ae,cy:ue,x01:-h,y01:-m,x11:ae*(a/S-1),y11:ue*(a/S-1)}}function Pt(){var e=ih,i=nh,t=X(0),n=null,a=ah,s=sh,r=rh,o=null,c=ao(l);function l(){var h,m,d=+e.apply(this,arguments),p=+i.apply(this,arguments),u=a.apply(this,arguments)-Bt,g=s.apply(this,arguments)-Bt,w=Hn(g-u),b=g>u;if(o||(o=h=c()),p<d&&(m=p,p=d,d=m),!(p>U))o.moveTo(0,0);else if(w>rt-U)o.moveTo(p*Ve(u),p*me(u)),o.arc(0,0,p,u,g,!b),d>U&&(o.moveTo(d*Ve(g),d*me(g)),o.arc(0,0,d,g,u,b));else{var D=u,k=g,F=u,S=g,W=w,pe=w,ae=r.apply(this,arguments)/2,ue=ae>U&&(n?+n.apply(this,arguments):Ye(d*d+p*p)),te=Bi(Hn(p-d)/2,+t.apply(this,arguments)),v=te,B=te,f,T;if(ue>U){var ge=Nn(ue/d*me(ae)),ye=Nn(ue/p*me(ae));(W-=ge*2)>U?(ge*=b?1:-1,F+=ge,S-=ge):(W=0,F=S=(u+g)/2),(pe-=ye*2)>U?(ye*=b?1:-1,D+=ye,k-=ye):(pe=0,D=k=(u+g)/2)}var se=p*Ve(D),re=p*me(D),K=d*Ve(S),Nt=d*me(S);if(te>U){var zt=p*Ve(k),$t=p*me(k),Ri=d*Ve(F),Gi=d*me(F),be;if(w<st)if(be=oh(se,re,Ri,Gi,zt,$t,K,Nt)){var Hi=se-be[0],Ni=re-be[1],zi=zt-be[0],$i=$t-be[1],Jn=1/me(to((Hi*zi+Ni*$i)/(Ye(Hi*Hi+Ni*Ni)*Ye(zi*zi+$i*$i)))/2),ea=Ye(be[0]*be[0]+be[1]*be[1]);v=Bi(te,(d-ea)/(Jn-1)),B=Bi(te,(p-ea)/(Jn+1))}else v=B=0}pe>U?B>U?(f=Pi(Ri,Gi,se,re,p,B,b),T=Pi(zt,$t,K,Nt,p,B,b),o.moveTo(f.cx+f.x01,f.cy+f.y01),B<te?o.arc(f.cx,f.cy,B,Y(f.y01,f.x01),Y(T.y01,T.x01),!b):(o.arc(f.cx,f.cy,B,Y(f.y01,f.x01),Y(f.y11,f.x11),!b),o.arc(0,0,p,Y(f.cy+f.y11,f.cx+f.x11),Y(T.cy+T.y11,T.cx+T.x11),!b),o.arc(T.cx,T.cy,B,Y(T.y11,T.x11),Y(T.y01,T.x01),!b))):(o.moveTo(se,re),o.arc(0,0,p,D,k,!b)):o.moveTo(se,re),!(d>U)||!(W>U)?o.lineTo(K,Nt):v>U?(f=Pi(K,Nt,zt,$t,d,-v,b),T=Pi(se,re,Ri,Gi,d,-v,b),o.lineTo(f.cx+f.x01,f.cy+f.y01),v<te?o.arc(f.cx,f.cy,v,Y(f.y01,f.x01),Y(T.y01,T.x01),!b):(o.arc(f.cx,f.cy,v,Y(f.y01,f.x01),Y(f.y11,f.x11),!b),o.arc(0,0,d,Y(f.cy+f.y11,f.cx+f.x11),Y(T.cy+T.y11,T.cx+T.x11),b),o.arc(T.cx,T.cy,v,Y(T.y11,T.x11),Y(T.y01,T.x01),!b))):o.arc(0,0,d,S,F,b)}if(o.closePath(),h)return o=null,h+""||null}return l.centroid=function(){var h=(+e.apply(this,arguments)+ +i.apply(this,arguments))/2,m=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-st/2;return[Ve(m)*h,me(m)*h]},l.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:X(+h),l):e},l.outerRadius=function(h){return arguments.length?(i=typeof h=="function"?h:X(+h),l):i},l.cornerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:X(+h),l):t},l.padRadius=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:X(+h),l):n},l.startAngle=function(h){return arguments.length?(a=typeof h=="function"?h:X(+h),l):a},l.endAngle=function(h){return arguments.length?(s=typeof h=="function"?h:X(+h),l):s},l.padAngle=function(h){return arguments.length?(r=typeof h=="function"?h:X(+h),l):r},l.context=function(h){return arguments.length?(o=h??null,l):o},l}var Yx=Array.prototype.slice;function so(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ro(e,i){return i<e?-1:i>e?1:i>=e?0:NaN}function oo(e){return e}function Xn(){var e=oo,i=ro,t=null,n=X(0),a=X(rt),s=X(0);function r(o){var c,l=(o=so(o)).length,h,m,d=0,p=new Array(l),u=new Array(l),g=+n.apply(this,arguments),w=Math.min(rt,Math.max(-rt,a.apply(this,arguments)-g)),b,D=Math.min(Math.abs(w)/l,s.apply(this,arguments)),k=D*(w<0?-1:1),F;for(c=0;c<l;++c)(F=u[p[c]=c]=+e(o[c],c,o))>0&&(d+=F);for(i!=null?p.sort(function(S,W){return i(u[S],u[W])}):t!=null&&p.sort(function(S,W){return t(o[S],o[W])}),c=0,m=d?(w-l*k)/d:0;c<l;++c,g=b)h=p[c],F=u[h],b=g+(F>0?F*m:0)+k,u[h]={data:o[h],index:c,value:F,startAngle:g,endAngle:b,padAngle:D};return u}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:X(+o),r):e},r.sortValues=function(o){return arguments.length?(i=o,t=null,r):i},r.sort=function(o){return arguments.length?(t=o,i=null,r):t},r.startAngle=function(o){return arguments.length?(n=typeof o=="function"?o:X(+o),r):n},r.endAngle=function(o){return arguments.length?(a=typeof o=="function"?o:X(+o),r):a},r.padAngle=function(o){return arguments.length?(s=typeof o=="function"?o:X(+o),r):s},r}var _o=Eo(co(),1);var xh=["caretElm"],_h=e=>({model:e});function vh(e,i){}function yh(e,i){if(e&1&&(_(0,"span"),J(1,vh,0,0,"ng-template",5),y()),e&2){let t=L();x(),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",en(2,_h,t.context))}}function bh(e,i){if(e&1&&M(0,"span",6),e&2){let t=L();A("innerHTML",t.title,sa)}}function Th(e,i){if(e&1&&(_(0,"header",4)(1,"span",5),N(2),y()()),e&2){let t=L();x(2),Ze(t.title)}}function Ch(e,i){if(e&1){let t=Oe();_(0,"li",6)(1,"ngx-charts-legend-entry",7),q("select",function(a){Q(t);let s=L();return j(s.labelClick.emit(a))})("activate",function(a){Q(t);let s=L();return j(s.activate(a))})("deactivate",function(a){Q(t);let s=L();return j(s.deactivate(a))}),y()()}if(e&2){let t=i.$implicit,n=L();x(),A("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",n.isActive(t))}}var wh=["*"];function Sh(e,i){if(e&1&&M(0,"ngx-charts-scale-legend",4),e&2){let t=L();A("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function kh(e,i){if(e&1){let t=Oe();_(0,"ngx-charts-legend",5),q("labelClick",function(a){Q(t);let s=L();return j(s.legendLabelClick.emit(a))})("labelActivate",function(a){Q(t);let s=L();return j(s.legendLabelActivate.emit(a))})("labelDeactivate",function(a){Q(t);let s=L();return j(s.legendLabelDeactivate.emit(a))}),y()}if(e&2){let t=L();A("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}var Ah=["ngx-charts-svg-radial-gradient",""];function Lh(e,i){if(e&1&&(ne(),M(0,"stop")),e&2){let t=i.$implicit;le("stop-color",t.color)("stop-opacity",t.opacity),oe("offset",t.offset+"%")}}var Dh=["tooltipTemplate"];var Fh=(e,i)=>[e,i];var Eh=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var Vh=["ngx-charts-pie-label",""];var Mh=["ngx-charts-pie-arc",""];function Ih(e,i){if(e&1&&(ne(),_(0,"defs"),M(1,"g",3),y()),e&2){let t=L();x(),A("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}var Oh=["ngx-charts-pie-series",""];function Bh(e,i){if(e&1&&(ne(),M(0,"g",3)),e&2){let t=L().$implicit,n=L();A("data",t)("radius",n.outerRadius)("color",n.color(t))("label",n.labelText(t))("labelTrim",n.trimLabels)("labelTrimSize",n.maxLabelLength)("max",n.max)("value",t.value)("explodeSlices",n.explodeSlices)("animations",n.animations)}}function Ph(e,i){if(e&1){let t=Oe();ne(),_(0,"g"),J(1,Bh,1,10,"g",1),_(2,"g",2),q("select",function(a){Q(t);let s=L();return j(s.onClick(a))})("activate",function(a){Q(t);let s=L();return j(s.activate.emit(a))})("deactivate",function(a){Q(t);let s=L();return j(s.deactivate.emit(a))})("dblclick",function(a){Q(t);let s=L();return j(s.dblclick.emit(a))}),y()()}if(e&2){let t=i.$implicit,n=L();x(),A("ngIf",n.labelVisible(t)),x(),A("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("fill",n.color(t))("value",t.data.value)("gradient",n.gradient)("data",t.data)("max",n.max)("explodeSlices",n.explodeSlices)("isActive",n.isActive(t.data))("animate",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Top)("tooltipType",n.styleTypes.tooltip)("tooltipTitle",n.getTooltipTitle(t))("tooltipTemplate",n.tooltipTemplate)("tooltipContext",t.data)}}var Rh=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function Gh(e,i,t){t=t||{};let n,a,s,r=null,o=0;function c(){o=t.leading===!1?0:+new Date,r=null,s=e.apply(n,a)}return function(){let l=+new Date;!o&&t.leading===!1&&(o=l);let h=i-(l-o);return n=this,a=arguments,h<=0?(clearTimeout(r),r=null,o=l,s=e.apply(n,a)):!r&&t.trailing!==!1&&(r=setTimeout(c,h)),s}}function Hh(e,i){return function(n,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:Gh(s.value,e,i)}),this[a]}}}}var C=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(C||{}),Me=7;function ho(e,i,t){if(t===C.Top)return e.top-Me;if(t===C.Bottom)return e.top+e.height-i.height+Me;if(t===C.Center)return e.top+e.height/2-i.height/2}function mo(e,i,t){if(t===C.Left)return e.left-Me;if(t===C.Right)return e.left+e.width-i.width+Me;if(t===C.Center)return e.left+e.width/2-i.width/2}var Gt=class e{static calculateVerticalAlignment(i,t,n){let a=ho(i,t,n);return a+t.height>window.innerHeight&&(a=window.innerHeight-t.height),a}static calculateVerticalCaret(i,t,n,a){let s;a===C.Top&&(s=i.height/2-n.height/2+Me),a===C.Bottom&&(s=t.height-i.height/2-n.height/2-Me),a===C.Center&&(s=t.height/2-n.height/2);let r=ho(i,t,a);return r+t.height>window.innerHeight&&(s+=r+t.height-window.innerHeight),s}static calculateHorizontalAlignment(i,t,n){let a=mo(i,t,n);return a+t.width>window.innerWidth&&(a=window.innerWidth-t.width),a}static calculateHorizontalCaret(i,t,n,a){let s;a===C.Left&&(s=i.width/2-n.width/2+Me),a===C.Right&&(s=t.width-i.width/2-n.width/2-Me),a===C.Center&&(s=t.width/2-n.width/2);let r=mo(i,t,a);return r+t.width>window.innerWidth&&(s+=r+t.width-window.innerWidth),s}static shouldFlip(i,t,n,a){let s=!1;return n===C.Right&&i.left+i.width+t.width+a>window.innerWidth&&(s=!0),n===C.Left&&i.left-t.width-a<0&&(s=!0),n===C.Top&&i.top-t.height-a<0&&(s=!0),n===C.Bottom&&i.top+i.height+t.height+a>window.innerHeight&&(s=!0),s}static positionCaret(i,t,n,a,s){let r=0,o=0;return i===C.Right?(o=-7,r=e.calculateVerticalCaret(n,t,a,s)):i===C.Left?(o=t.width,r=e.calculateVerticalCaret(n,t,a,s)):i===C.Top?(r=t.height,o=e.calculateHorizontalCaret(n,t,a,s)):i===C.Bottom&&(r=-7,o=e.calculateHorizontalCaret(n,t,a,s)),{top:r,left:o}}static positionContent(i,t,n,a,s){let r=0,o=0;return i===C.Right?(o=n.left+n.width+a,r=e.calculateVerticalAlignment(n,t,s)):i===C.Left?(o=n.left-t.width-a,r=e.calculateVerticalAlignment(n,t,s)):i===C.Top?(r=n.top-t.height-a,o=e.calculateHorizontalAlignment(n,t,s)):i===C.Bottom&&(r=n.top+n.height+a,o=e.calculateHorizontalAlignment(n,t,s)),{top:r,left:o}}static determinePlacement(i,t,n,a){if(e.shouldFlip(n,t,i,a)){if(i===C.Right)return C.Left;if(i===C.Left)return C.Right;if(i===C.Top)return C.Bottom;if(i===C.Bottom)return C.Top}return i}},Nh=(()=>{class e{constructor(t,n,a){this.element=t,this.renderer=n,this.platformId=a}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!ut(this.platformId))return;let t=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;let a=t.getBoundingClientRect();this.checkFlip(n,a),this.positionContent(t,n,a),this.showCaret&&this.positionCaret(n,a),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,n,a){let{top:s,left:r}=Gt.positionContent(this.placement,a,n,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${s}px`),this.renderer.setStyle(t,"left",`${r}px`)}positionCaret(t,n){let a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:r,left:o}=Gt.positionCaret(this.placement,n,t,s,this.alignment);this.renderer.setStyle(a,"top",`${r}px`),this.renderer.setStyle(a,"left",`${o}px`)}checkFlip(t,n){this.placement=Gt.determinePlacement(this.placement,n,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(H(qe),H(Wt),H(Yt))},e.\u0275cmp=O({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,n){if(t&1&&Ki(xh,5),t&2){let a;jt(a=qt())&&(n.caretElm=a.first)}},hostVars:2,hostBindings:function(t,n){t&1&&q("resize",function(){return n.onWindowResize()},!1,ra),t&2&&pt(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,n){t&1&&(_(0,"div"),M(1,"span",1,0),_(3,"div",2),J(4,yh,2,4,"span",3)(5,bh,1,1,"span",4),y()()),t&2&&(x(),da("tooltip-caret position-",n.placement,""),A("hidden",!n.showCaret),x(3),A("ngIf",!n.title),x(),A("ngIf",n.title))},dependencies:[Ue,ua],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),ta([Hh(100)],e.prototype,"onWindowResize",null),e})(),Yn=class{constructor(i){this.injectionService=i,this.defaults={},this.components=new Map}getByType(i=this.type){return this.components.get(i)}create(i){return this.createByType(this.type,i)}createByType(i,t){t=this.assignDefaults(t);let n=this.injectComponent(i,t);return this.register(i,n),n}destroy(i){let t=this.components.get(i.componentType);if(t&&t.length){let n=t.indexOf(i);n>-1&&(t[n].destroy(),t.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(i){let t=this.components.get(i);if(t&&t.length){let n=t.length-1;for(;n>=0;)this.destroy(t[n--])}}injectComponent(i,t){return this.injectionService.appendComponent(i,t)}assignDefaults(i){let t=Ie({},this.defaults.inputs),n=Ie({},this.defaults.outputs);return!i.inputs&&!i.outputs&&(i={inputs:i}),t&&(i.inputs=Ie(Ie({},t),i.inputs)),n&&(i.outputs=Ie(Ie({},n),i.outputs)),i}register(i,t){this.components.has(i)||this.components.set(i,[]),this.components.get(i).push(t)}};function zh(e){return e.element}var vo=(()=>{class e{constructor(t,n,a){this.applicationRef=t,this.componentFactoryResolver=n,this.injector=a}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return zh(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,n){if(n){if(n.inputs!==void 0){let a=Object.getOwnPropertyNames(n.inputs);for(let s of a)t.instance[s]=n.inputs[s]}if(n.outputs!==void 0){let a=Object.getOwnPropertyNames(n.outputs);for(let s of a)t.instance[s]=n.outputs[s]}}return t}appendComponent(t,n={},a){a||(a=this.getRootViewContainer());let s=this.getComponentRootNode(a),r=new va(s,this.componentFactoryResolver,this.applicationRef,this.injector),o=new _a(t),c=r.attach(o);return this.projectComponentBindings(c,n),c}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(dt(pa),dt(oa),dt(aa))},e.\u0275prov=Yi({token:e,factory:e.\u0275fac}),e})(),Zn=(()=>{class e extends Yn{constructor(t){super(t),this.type=Nh}}return e.\u0275fac=function(t){return new(t||e)(dt(vo))},e.\u0275prov=Yi({token:e,factory:e.\u0275fac}),e})(),je=function(e){return e.Right="right",e.Below="below",e}(je||{}),Rt=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Rt||{}),V=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(V||{}),$h=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){let n=this.gradientString(this.colors.range(),this.colors.domain()),a=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${a}, ${n})`}gradientString(t,n){n.push(1);let a=[];return t.reverse().forEach((s,r)=>{a.push(`${s} ${Math.round(n[r]*100)}%`)}),a.join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[Te],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,n){t&1&&(_(0,"div",0)(1,"div",1)(2,"span"),N(3),y()(),M(4,"div",2),_(5,"div",1)(6,"span"),N(7),y()()()),t&2&&(le("height",n.horizontal?void 0:n.height,"px")("width",n.width,"px"),fe("horizontal-legend",n.horizontal),x(3),Ze(n.valueRange[1].toLocaleString()),x(),le("background",n.gradient),x(3),Ze(n.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),e})();function Wn(e){return e instanceof Date?e=e.toLocaleDateString():e=e.toLocaleString(),e}function Xh(e){return e.toLocaleString().replace(/[&'`"<>]/g,i=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[i])}var Yh=(()=>{class e{constructor(){this.isActive=!1,this.select=new E,this.activate=new E,this.deactivate=new E,this.toggle=new E}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,n){t&1&&q("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,n){t&1&&(_(0,"span",0),q("click",function(){return n.select.emit(n.formattedLabel)}),_(1,"span",1),q("click",function(){return n.toggle.emit(n.formattedLabel)}),y(),_(2,"span",2),N(3),y()()),t&2&&(fe("active",n.isActive),A("title",n.formattedLabel),x(),le("background-color",n.color),x(2),Ce(" ",n.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),Wh=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new E,this.labelActivate=new E,this.labelDeactivate=new E,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let t=[];for(let n of this.data){let a=Wn(n);t.findIndex(r=>r.label===a)===-1&&t.push({label:n,formattedLabel:a,color:this.colors.getColor(n)})}return t}isActive(t){return this.activeEntries?this.activeEntries.find(a=>t.label===a.name)!==void 0:!1}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,n){return n.label}}return e.\u0275fac=function(t){return new(t||e)(H(Kt))},e.\u0275cmp=O({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[Te],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(t,n){t&1&&(_(0,"div"),J(1,Th,3,1,"header",0),_(2,"div",1)(3,"ul",2),J(4,Ch,2,4,"li",3),y()()()),t&2&&(le("width",n.width,"px"),x(),A("ngIf",(n.title==null?null:n.title.length)>0),x(2),le("max-height",n.height-45,"px"),fe("horizontal-legend",n.horizontal),x(),A("ngForOf",n.legendEntries)("ngForTrackBy",n.trackBy))},dependencies:[Yh,Ue,Jt],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),e})(),Qh=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new E,this.legendLabelActivate=new E,this.legendLabelDeactivate=new E,this.LegendPosition=je,this.LegendType=Rt}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===je.Right)&&(this.legendType===Rt.ScaleLegend?t=1:t=2));let n=12-t;this.chartWidth=Math.floor(this.view[0]*n/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===je.Right?Math.floor(this.view[0]*t/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===V.Linear?Rt.ScaleLegend:Rt.Legend}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Ut([Zn]),Te],ngContentSelectors:wh,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(t,n){t&1&&(qi(),_(0,"div",0),ne(),_(1,"svg",1),Zi(2),y(),J(3,Sh,1,5,"ngx-charts-scale-legend",2)(4,kh,1,7,"ngx-charts-legend",3),y()),t&2&&(le("width",n.view[0],"px")("height",n.view[1],"px"),x(),oe("width",n.chartWidth)("height",n.view[1]),x(2),A("ngIf",n.showLegend&&n.legendType===n.LegendType.ScaleLegend),x(),A("ngIf",n.showLegend&&n.legendType===n.LegendType.Legend))},dependencies:[$h,Wh,Ue],encapsulation:2,changeDetection:0}),e})(),jh=(()=>{class e{constructor(t,n){this.element=t,this.zone=n,this.visible=new E,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let t=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:a}=this.element.nativeElement;n&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(H(qe),H(Qi))},e.\u0275dir=Wi({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function po(e){return toString.call(e)==="[object Date]"}var qh=(()=>{class e{constructor(t,n,a,s){this.chartElement=t,this.zone=n,this.cd=a,this.platformId=s,this.scheme="cool",this.schemeType=V.Ordinal,this.animations=!0,this.select=new E}ngOnInit(){nn(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new jh(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,n,a=this.chartElement.nativeElement;if(ut(this.platformId)&&a.parentNode!==null){let s=a.parentNode.getBoundingClientRect();t=s.width,n=s.height}return t&&n?{width:t,height:n}:null}formatDates(){for(let t=0;t<this.results.length;t++){let n=this.results[t];if(n.label=n.name,po(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let a=0;a<n.series.length;a++){let s=n.series[a];s.label=s.name,po(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!ut(this.platformId))return;let n=ia(window,"resize").pipe(na(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(t){let n=[];for(let a of t){let s={};if(a.name!==void 0&&(s.name=a.name),a.value!==void 0&&(s.value=a.value),a.series!==void 0){s.series=[];for(let r of a.series){let o=Object.assign({},r);s.series.push(o)}}a.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(a.extra))),a.source!==void 0&&(s.source=a.source),a.target!==void 0&&(s.target=a.target),n.push(s)}return n}}return e.\u0275fac=function(t){return new(t||e)(H(qe),H(Qi),H(Kt),H(Yt))},e.\u0275cmp=O({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[Te],decls:1,vars:0,template:function(t,n){t&1&&M(0,"div")},encapsulation:2}),e})();function Zh(e,i=16){return typeof e!="string"?typeof e=="number"?e+"":"":(e=e.trim(),e.length<=i?e:`${e.slice(0,i)}...`)}var Qn=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(Qn||{});var uo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[Be]]}),e})(),Un=function(e){return e.popover="popover",e.tooltip="tooltip",e}(Un||{}),lt=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(lt||{}),Uh=(()=>{class e{constructor(t,n,a){this.tooltipService=t,this.viewContainerRef=n,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=C.Top,this.tooltipAlignment=C.Center,this.tooltipType=Un.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=lt.all,this.tooltipImmediateExit=!1,this.show=new E,this.hide=new E}get listensForFocus(){return this.tooltipShowEvent===lt.all||this.tooltipShowEvent===lt.focus}get listensForHover(){return this.tooltipShowEvent===lt.all||this.tooltipShowEvent===lt.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;let n=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{t.contains(n.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;let n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(t){return new(t||e)(H(Zn),H(ji),H(Wt))},e.\u0275dir=Wi({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,n){t&1&&q("focusin",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(s){return n.onMouseLeave(s.target)})("click",function(){return n.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),go=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({providers:[vo,Zn],imports:[[Be]]}),e})(),fo={};function yo(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,fo[e]?yo():(fo[e]=!0,e)}var bo=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(bo||{});var Kh=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[Te],attrs:Ah,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,n){t&1&&(ne(),_(0,"radialGradient",0),J(1,Lh,1,5,"stop",1),y()),t&2&&(A("id",n.name),oe("cx",n.cx)("cy",n.cy)("r",n.r),x(),A("ngForOf",n.stops))},dependencies:[Jt],encapsulation:2,changeDetection:0}),e})();var jn;typeof window<"u"?jn=window:typeof global<"u"&&(jn=global);var nv=jn.MouseEvent;var ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[Be,uo,go],Be,uo,go]}),e})();function Jh({width:e,height:i,margins:t,showXAxis:n=!1,showYAxis:a=!1,xAxisHeight:s=0,yAxisWidth:r=0,showXLabel:o=!1,showYLabel:c=!1,showLegend:l=!1,legendType:h=V.Ordinal,legendPosition:m=je.Right,columns:d=12}){let p=t[3],u=e,g=i-t[0]-t[2];return l&&m===je.Right&&(h===V.Ordinal?d-=2:d-=1),u=u*d/12,u=u-t[1]-t[3],n&&(g-=5,g-=s,o&&(g-=30)),a&&(u-=5,u-=r,p+=r,p+=10,c&&(u-=30,p+=30)),u=Math.max(0,u),g=Math.max(0,g),{width:Math.floor(u),height:Math.floor(g),xOffset:Math.floor(p)}}var xo=[{name:"vivid",selectable:!0,group:V.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:V.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:V.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:V.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:V.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:V.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:V.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:V.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:V.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:V.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:V.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:V.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:V.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:V.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:V.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],qn=class{constructor(i,t,n,a){typeof i=="string"&&(i=xo.find(s=>s.name===i)),this.colorDomain=i.domain,this.scaleType=t,this.domain=n,this.customColors=a,this.scale=this.generateColorScheme(i,t,this.domain)}generateColorScheme(i,t,n){typeof i=="string"&&(i=xo.find(s=>s.name===i));let a;switch(t){case V.Quantile:a=Ot().range(i.domain).domain(n);break;case V.Ordinal:a=ze().range(i.domain).domain(n);break;case V.Linear:{let s=[...i.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let r=nt(0,1,1/s.length);a=Xe().range(s).domain(r)}break;default:break}return a}getColor(i){if(i==null)throw new Error("Value can not be null");if(this.scaleType===V.Linear){let t=Xe().domain(this.domain).range([0,1]);return this.scale(t(i))}else{if(typeof this.customColors=="function")return this.customColors(i);let t=i.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(a=>a.name.toLowerCase()===t.toLowerCase())),n?n.value:this.scale(i)}}getLinearGradientStops(i,t){t===void 0&&(t=this.domain[0]);let n=Xe().domain(this.domain).range([0,1]),a=It().domain(this.colorDomain).range([0,1]),s=this.getColor(i),r=n(t),o=this.getColor(t),c=n(i),l=1,h=r,m=[];for(m.push({color:o,offset:r,originalOffset:r,opacity:1});h<c&&l<this.colorDomain.length;){let d=this.colorDomain[l],p=a(d);if(p<=r){l++;continue}if(p.toFixed(4)>=(c-a.bandwidth()).toFixed(4))break;m.push({color:d,offset:p,opacity:1}),h=p,l++}if(m[m.length-1].offset<100&&m.push({color:s,offset:c,opacity:1}),c===r)m[0].offset=0,m[1].offset=100;else if(m[m.length-1].offset!==100)for(let d of m)d.offset=(d.offset-r)/(c-r)*100;return m}};var ed=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var To=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})(),av=(0,_o.default)();var td=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var id=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var nd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var Co=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})(),ad=(()=>{class e{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=Zh}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if(nn(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);let a=Pt().innerRadius(t).outerRadius(t).centroid(this.data),s=this.data.pos[1]/a[1];(this.data.pos[1]===0||a[1]===0)&&(s=1);let r=[s*a[0],s*a[1]];this.line=`M${a}L${r}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Qn.Start:Qn.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}}return e.\u0275fac=function(t){return new(t||e)(H(Yt))},e.\u0275cmp=O({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[Te],attrs:Vh,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(t,n){t&1&&(_(0,"title"),N(1),y(),ne(),_(2,"g")(3,"text",0),N(4),y()(),M(5,"path",1)),t&2&&(x(),Ze(n.label),x(),le("transform",n.styleTransform)("transition",n.textTransition),oe("transform",n.attrTransform),x(),le("text-anchor",n.textAnchor())("shape-rendering","crispEdges"),fe("animation",n.animations),x(),Ce(" ",n.labelTrim?n.trimLabel(n.label,n.labelTrimSize):n.label," "),x(),fe("animation",n.animations),oe("d",n.line)("stroke",n.color))},encapsulation:2,changeDetection:0}),e})();var sv=2*Math.PI;var sd=(()=>{class e{constructor(t){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new E,this.activate=new E,this.deactivate=new E,this.dblclick=new E,this.barOrientation=bo,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+yo().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(t=this.outerRadius*this.value/this.max),Pt().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){let t=oi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),n=this.calculateArc();t.transition().attrTween("d",function(a){this._current=this._current||a;let s=Object.assign({},a);s.endAngle=s.startAngle;let r=de(s,s);return this._current=r(0),function(o){return n(r(o))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=de(this._current,a);return this._current=s(0),function(r){return n(s(r))}})}updateAnimation(){let t=oi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),n=this.calculateArc();t.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=de(this._current,a);return this._current=s(0),function(r){return n(s(r))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}}return e.\u0275fac=function(t){return new(t||e)(H(qe))},e.\u0275cmp=O({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Te],attrs:Mh,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(t,n){t&1&&(ne(),_(0,"g",0),J(1,Ih,2,3,"defs",1),_(2,"path",2),q("click",function(){return n.onClick()})("dblclick",function(s){return n.onDblClick(s)})("mouseenter",function(){return n.activate.emit(n.data)})("mouseleave",function(){return n.deactivate.emit(n.data)}),y()()),t&2&&(x(),A("ngIf",n.gradient),x(),le("pointer-events",n.getPointerEvents()),fe("active",n.isActive),oe("d",n.path)("fill",n.getGradient()))},dependencies:[Kh,Ue],encapsulation:2,changeDetection:0}),e})(),rd=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new E,this.activate=new E,this.deactivate=new E,this.dblclick=new E,this.placementTypes=C,this.styleTypes=Un}ngOnChanges(t){this.update()}update(){let n=Xn().value(a=>a.value).sort(null)(this.series);this.max=Ei(n,a=>a.value),this.data=this.calculateLabelPositions(n),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return Pt().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(t){let s=t;s.forEach(r=>{r.pos=this.outerArc().centroid(r),r.pos[0]=1.5*this.outerRadius*(this.midAngle(r)<Math.PI?1:-1)});for(let r=0;r<s.length-1;r++){let o=s[r];if(this.labelVisible(o))for(let c=r+1;c<s.length;c++){let l=s[c];if(this.labelVisible(l)&&l.pos[0]*o.pos[0]>0){let h=10-Math.abs(l.pos[1]-o.pos[1]);h>0&&(l.pos[1]+=Math.sign(l.pos[0])*h)}}}return s}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return Wn(t.data.name)}defaultTooltipText(t){let n=this.label(t),a=Wn(t.data.value);return`
      <span class="tooltip-label">${Xh(n)}</span>
      <span class="tooltip-val">${a}</span>
    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,n){return n.data.name}onClick(t){this.select.emit(t)}isActive(t){return this.activeEntries?this.activeEntries.find(a=>t.name===a.name&&t.series===a.series)!==void 0:!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[Te],attrs:Oh,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(t,n){t&1&&J(0,Ph,3,19,"g",0),t&2&&A("ngForOf",n.data)("ngForTrackBy",n.trackBy)},dependencies:[ad,sd,Jt,Ue,Uh],encapsulation:2,changeDetection:0}),e})();var wo=(()=>{class e extends qh{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=je.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new E,this.select=new E,this.activate=new E,this.deactivate=new E}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=Jh({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let t=this.margins[3]+this.dims.width/2,n=this.margins[0]+this.dims.height/2;this.translation=`translate(${t}, ${n})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,s)=>this.domain.indexOf(a.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new qn(this.scheme,V.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:V.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,n=!1){t=this.results.find(s=>n?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,n=!1){t=this.results.find(s=>n?s.label===t.name:s.name===t.name);let a=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return e.\u0275fac=(()=>{let i;return function(n){return(i||(i=Xt(e)))(n||e)}})(),e.\u0275cmp=O({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(t,n,a){if(t&1&&Ui(a,Dh,5),t&2){let s;jt(s=qt())&&(n.tooltipTemplate=s.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[Qt],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(t,n){t&1&&(_(0,"ngx-charts-chart",0),q("legendLabelActivate",function(s){return n.onActivate(s,!0)})("legendLabelDeactivate",function(s){return n.onDeactivate(s,!0)})("legendLabelClick",function(s){return n.onClick(s)}),ne(),_(1,"g",1)(2,"g",2),q("dblclick",function(s){return n.dblclick.emit(s)})("select",function(s){return n.onClick(s)})("activate",function(s){return n.onActivate(s)})("deactivate",function(s){return n.onDeactivate(s)}),y()()()),t&2&&(A("view",tn(21,Fh,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),x(),oe("transform",n.translation),x(),A("colors",n.colors)("series",n.data)("showLabels",n.labels)("labelFormatting",n.labelFormatting)("trimLabels",n.trimLabels)("maxLabelLength",n.maxLabelLength)("activeEntries",n.activeEntries)("innerRadius",n.innerRadius)("outerRadius",n.outerRadius)("explodeSlices",n.explodeSlices)("gradient",n.gradient)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)("tooltipText",n.tooltipText))},dependencies:[Qh,rd],styles:[Eh,Rh],encapsulation:2,changeDetection:0}),e})();var Kn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})(),od=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie,Kn,Co]]}),e})();var ld=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var cd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})();var hd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie,Kn,To]]}),e})();function dd(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var md=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[[ie]]}),e})(),So=(()=>{class e{constructor(){dd()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[ie,ed,To,td,id,nd,md,Co,od,ld,Kn,cd,hd]}),e})();var ud=()=>[wo,Ia,Pa,Oa,Ba,Ra,Ea,Va,wa,Sa,ka,La,Da];function gd(e,i){if(e&1){let t=Oe();_(0,"div",3)(1,"div",4)(2,"div",5)(3,"mat-label"),N(4),y(),M(5,"mat-datepicker-toggle",6)(6,"mat-date-range-picker",7,0),y(),_(8,"mat-date-range-input",8),M(9,"input",9)(10,"input",10),y()(),_(11,"div",11)(12,"ngx-charts-pie-chart",12),q("select",function(a){Q(t);let s=L(2);return j(s.onSelect(a))})("activate",function(a){Q(t);let s=L(2);return j(s.onActivate(a))})("deactivate",function(a){Q(t);let s=L(2);return j(s.onDeactivate(a))}),y()(),_(13,"div",13)(14,"p"),N(15),y(),_(16,"p"),N(17),y(),_(18,"p"),N(19),y(),_(20,"p"),N(21),y(),_(22,"p"),N(23),y()()()}if(e&2){let t=Zt(7),n=L(2);x(4),Ji("Resumen desde ",n.fechaInicioMostrar," hasta ",n.fechaFinMostrar,""),x(),A("for",t),x(3),A("formGroup",n.rangeoFechas)("rangePicker",t),x(4),A("results",n.single)("animations",!0)("gradient",n.gradient)("legend",!1)("labels",n.showLabels)("doughnut",!1),x(3),Ce("Calor\xEDas: ",n.single[3].value," kcal"),x(2),Ce("Az\xFAcares: ",n.single[0].value," gr"),x(2),Ce("Grasas: ",n.single[2].value," gr"),x(2),Ce("Carbohidratos: ",n.single[1].value," gr"),x(2),Ce("Prote\xEDnas: ",n.single[4].value," gr")}}function fd(e,i){if(e&1&&(_(0,"div",14)(1,"h1"),N(2,"No hay datos para el rango seleccionado"),y(),_(3,"div")(4,"mat-label"),N(5,"Cambiar rango de fechas"),y(),M(6,"mat-datepicker-toggle",6)(7,"mat-date-range-picker",7,0),_(9,"mat-date-range-input",8),M(10,"input",9)(11,"input",10),y()()()),e&2){let t=Zt(8),n=L(2);x(6),A("for",t),x(3),A("formGroup",n.rangeoFechas)("rangePicker",t)}}function xd(e,i){if(e&1&&J(0,gd,24,16,"div",3)(1,fd,12,3),e&2){let t=L();ma(0,t.datos?0:1)}}function _d(e,i){e&1&&(_(0,"div",15),M(1,"mat-spinner"),y())}var ko=(()=>{var i,t;let n=class n{constructor(){ht(this,i,void 0);ht(this,t,void 0);this.$fecha="",Xi(this,i,mt(xa)),Xi(this,t,mt(Ha)),this.view=[],this.gradient=!0,this.showLegend=!0,this.showLabels=!0,this.legendPosition="below",this.colorScheme={domain:["#5AA454","#A10A28","#C7B42C","#AAAAAA"]},this.single=[],this.datos=!1,this.fechaInicio=new Date(new Date().setDate(new Date().getDate()-30)),this.fechaFin=new Date,this.fechaInicioMostrar="",this.fechaFinMostrar="",this.rangeoFechas=new Aa({start:new an(null),end:new an(null)}),this.tamanoPantalla="pantalla"}ngOnInit(){this.checkLogin()&&localStorage.getItem("idUsuarioLogeado")!==null&&(this.fetchData(),Object.assign(this,this.single)),this.tamanoPantallaSub=ct(this,t).tamanoPantalla$.subscribe(s=>{this.tamanoPantalla=s,this.tamanoPantalla})}fetchData(){this.rangeoFechas.valueChanges.subscribe(r=>{r.start!=null&&r.end!=null&&(this.fechaInicio=new Date(r.start.toISOString().split("T")[0]),this.fechaInicio.setDate(this.fechaInicio.getDate()+1),this.fechaFin=new Date(r.end.toISOString().split("T")[0]),this.fechaFin.setDate(this.fechaFin.getDate()+1),localStorage.setItem("fechaInicioHome",this.fechaInicio.toISOString()),localStorage.setItem("fechaFinHome",this.fechaFin.toISOString()),console.log("Fecha inicio: "+this.fechaInicio.toISOString()),console.log("Fecha fin: "+this.fechaFin.toISOString()),window.location.reload())}),this.fechaFin=localStorage.getItem("fechaFinHome")?new Date(localStorage.getItem("fechaFinHome")||""):new Date,this.fechaInicio=localStorage.getItem("fechaInicioHome")?new Date(localStorage.getItem("fechaInicioHome")||""):new Date(new Date().setDate(new Date().getDate()-30)),this.fechaInicioMostrar=this.fechaInicio.toISOString().split("T")[0],this.fechaFinMostrar=this.fechaFin.toISOString().split("T")[0],console.log(localStorage.getItem("fechaInicioHome"));let s=[{name:"Az\xFAcares",value:0},{name:"Carbohidratos",value:0},{name:"Grasas",value:0},{name:"Calor\xEDas",value:0},{name:"Prote\xEDnas",value:0}];ct(this,i).getConsumoDiario(localStorage.getItem("idUsuarioLogeado"),this.fechaInicio,this.fechaFin).subscribe(r=>{console.log(r),r.respuesta==="No se encontraron entradas en las fechas indicadas."?(this.datos=!1,console.log("No se encontraron entradas en las fechas indicadas.")):(this.datos=!0,r.respuesta.filter(o=>o.id!==void 0).forEach(o=>{s[0].value=parseFloat((s[0].value+parseFloat(o.nutrientes.azucares)).toFixed(2)),s[1].value=parseFloat((s[1].value+parseFloat(o.nutrientes.carbohidratos)).toFixed(2)),s[2].value=parseFloat((s[2].value+parseFloat(o.nutrientes.grasas)).toFixed(2)),s[3].value=parseFloat((s[3].value+parseFloat(o.nutrientes.calorias)).toFixed(2)),s[4].value=parseFloat((s[4].value+parseFloat(o.nutrientes.proteinas)).toFixed(2))}),this.single=s)})}onSelect(s){console.log("Item clicked",JSON.parse(JSON.stringify(s)))}onActivate(s){console.log("Activate",JSON.parse(JSON.stringify(s)))}onDeactivate(s){console.log("Deactivate",JSON.parse(JSON.stringify(s)))}checkLogin(){return localStorage.getItem("idUsuarioLogeado")===null?(console.log("Sin logearse"),!1):(console.log("Logeado"),!0)}};i=new WeakMap,t=new WeakMap,n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=O({type:n,selectors:[["app-resumen-alimentos"]],standalone:!0,features:[Ut([ya()]),Ae],decls:5,vars:0,consts:[["picker",""],[1200,null],[1,"resumenDiv"],[1,"infoDiv"],[1,"selectorFecha"],[1,"infoFecha"],["matIconSuffix","",3,"for"],["touchUi",""],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","hidden",""],["matEndDate","","formControlName","end","placeholder","End date","hidden",""],[1,"graficaNutrientes"],[3,"select","activate","deactivate","results","animations","gradient","legend","labels","doughnut"],[1,"datosNutrientes"],[1,"noData"],[1,"divSpinner"]],template:function(r,o){r&1&&(_(0,"div",2),J(1,xd,2,1)(2,_d,2,0),ca(3,1,ud,2,null,null,1,null,la),ha(),y())},dependencies:[fa,So,Ga,ti,Ta,ba,Fa,ei],styles:[".resumenDiv[_ngcontent-%COMP%]{background-color:var(--SECONDARY_50);width:80%;min-height:220px;margin-top:2%;box-shadow:-4px 4px 8px #0000001a,0 4px 8px #0000001a;border-radius:7px}.infoDiv[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.5fr 1fr;grid-template-rows:auto auto;align-items:start}.selectorFecha[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;margin-top:1%;margin-left:1%}.datosNutrientes[_ngcontent-%COMP%]{grid-column:1;grid-row:2;display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap;gap:20px}.graficaNutrientes[_ngcontent-%COMP%]{grid-column:2;grid-row:1 / span 2;display:flex;justify-content:center;align-items:center;height:100%}mat-label[_ngcontent-%COMP%]{font-weight:700}mat-spinner[_ngcontent-%COMP%]{min-width:450px}.noData[_ngcontent-%COMP%], .divSpinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}@media (max-width: 1200px){p[_ngcontent-%COMP%]{font-size:20px!important}}@media (max-width: 768px){.infoDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}mat-label[_ngcontent-%COMP%]{font-size:20px!important}p[_ngcontent-%COMP%]{font-size:18px!important}}@media (max-width: 576px){.infoDiv[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}.infoFecha[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.datosNutrientes[_ngcontent-%COMP%]{display:none}mat-label[_ngcontent-%COMP%]{font-size:14px!important}p[_ngcontent-%COMP%]{font-size:12px!important}}"]});let e=n;return e})();var Ao=(()=>{class e extends Xa{static \u0275fac=(()=>{let t;return function(a){return(t||(t=Xt(e)))(a||e)}})();static \u0275cmp=O({type:e,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[Qt,Ae],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(n,a){n&1&&(ne(),_(0,"svg",0),M(1,"path",1),y()),n&2&&(pt(a.getClassNames()),oe("aria-label",a.ariaLabel)("aria-hidden",a.ariaHidden)("role",a.role))},encapsulation:2})}return e})();var Lo=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=R({type:e});static \u0275inj=P({imports:[Be,sn,ja,Wa,Ya,Ao,Za,sn]})}return e})();var Do=(()=>{let i=class i{constructor(){this.activeTab="Iniciar sesi\xF3n"}};i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=O({type:i,selectors:[["app-tabs-comida-ejercicio"]],standalone:!0,features:[Ae],decls:7,vars:4,consts:[["dynamicHeight",""],["label","Comidas"],["id","comidasTabs"],["label","Ejercicio"],["id","ejerciciosTabs"]],template:function(a,s){a&1&&(_(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"div",2),M(3,"app-tabla-comidas"),y()(),_(4,"mat-tab",3)(5,"div",4),M(6,"app-tabla-ejercicios"),y()()()),a&2&&(x(),fe("active",s.activeTab=="Comidas"),x(3),fe("active",s.activeTab=="Ejercicios"))},dependencies:[$a,Na,za,ei,ti,Ma,Ca,Qa,qa,Lo],styles:["mat-tab-group[_ngcontent-%COMP%]{max-width:80%;margin:0 auto;background-color:var(--SECONDARY_50);margin-top:7vh;border-radius:10px;box-shadow:-4px 4px 4px #0000001a;padding-bottom:3vh}#comidasTabs[_ngcontent-%COMP%], #ejerciciosTabs[_ngcontent-%COMP%]{margin-top:2%!important}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #fa010500;--mat-tab-header-pagination-icon-color: black;--mat-tab-header-inactive-label-text-color: #727272;--mat-tab-header-active-label-text-color: black;--mat-tab-header-active-ripple-color: black;--mat-tab-header-inactive-ripple-color: black;--mat-tab-header-inactive-focus-label-text-color: rgb(71, 71, 71);--mat-tab-header-inactive-hover-label-text-color: rgba(0, 0, 0, 1);--mat-tab-header-active-focus-label-text-color: black;--mat-tab-header-active-hover-label-text-color: black;--mat-tab-header-active-focus-indicator-color: #4cb45500;--mat-tab-header-active-hover-indicator-color: #00000000}"]});let e=i;return e})();var Kv=(()=>{var i;let t=class t{constructor(){ht(this,i,mt(ga))}ngOnInit(){ct(this,i).fbUserEmail().then(a=>{this.correo=a})}};i=new WeakMap,t.\u0275fac=function(s){return new(s||t)},t.\u0275cmp=O({type:t,selectors:[["app-home"]],standalone:!0,features:[Ae],decls:2,vars:0,template:function(s,r){s&1&&M(0,"app-resumen-alimentos")(1,"app-tabs-comida-ejercicio")},dependencies:[ko,Do],styles:[".logo[_ngcontent-%COMP%]{background-color:var(--EXTRA_WHITE_LIGHT);padding:20px}"]});let e=t;return e})();export{Kv as HomeComponent};
